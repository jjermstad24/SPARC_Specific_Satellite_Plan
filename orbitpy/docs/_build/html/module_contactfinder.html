

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>orbit.contactfinder — Contact Finder Module &mdash; OrbitPy 0.1 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="ContactFinder" href="generated/orbitpy.contactfinder.ContactFinder.html" />
    <link rel="prev" title="filter_mid_interval_access" href="generated/orbitpy.coveragecalculator.filter_mid_interval_access.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> OrbitPy
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="user_guide.html">User Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="api_reference.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="module_constellation.html"><code class="docutils literal notranslate"><span class="pre">orbit.constellation</span></code> — Constellation Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="module_propagator.html"><code class="docutils literal notranslate"><span class="pre">orbit.propagator</span></code> — Propagator Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="module_grid.html"><code class="docutils literal notranslate"><span class="pre">orbit.grid</span></code> — Grid Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="module_coveragecalculator.html"><code class="docutils literal notranslate"><span class="pre">orbitpy.coveragecalculator</span></code> — Coverage Calculator</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">orbit.contactfinder</span></code> — Contact Finder Module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#description">Description</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#output-data-file-format">Output data file format</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#examples">Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="#api">API</a><ul>
<li class="toctree-l4"><a class="reference internal" href="generated/orbitpy.contactfinder.ContactFinder.html">ContactFinder</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/orbitpy.contactfinder.ContactFinderOutputInfo.html">ContactFinderOutputInfo</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/orbitpy.contactfinder.ContactPairs.html">ContactPairs</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="module_eclipsefinder.html"><code class="docutils literal notranslate"><span class="pre">orbit.eclipsefinder</span></code> — Eclipse Finder Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="module_datametricscalculator.html"><code class="docutils literal notranslate"><span class="pre">orbitpy.datametricscalculator</span></code> — Data Metrics Calculator Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="module_mission.html"><code class="docutils literal notranslate"><span class="pre">orbit.mission</span></code> — Mission Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="module_sensorpixelprojection.html"><code class="docutils literal notranslate"><span class="pre">orbit.sensorpixelprojection</span></code> — Sensor Pixel Projection</a></li>
<li class="toctree-l2"><a class="reference internal" href="module_util.html"><code class="docutils literal notranslate"><span class="pre">orbitpy.util</span></code> — Util Module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="miscellaneous.html">Miscellaneous</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">OrbitPy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="api_reference.html">API Reference</a> &raquo;</li>
        
      <li><code class="docutils literal notranslate"><span class="pre">orbit.contactfinder</span></code> — Contact Finder Module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/module_contactfinder.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="orbit-contactfinder-contact-finder-module">
<h1><code class="docutils literal notranslate"><span class="pre">orbit.contactfinder</span></code> — Contact Finder Module<a class="headerlink" href="#orbit-contactfinder-contact-finder-module" title="Permalink to this heading">¶</a></h1>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<p>This module provides the class (<code class="docutils literal notranslate"><span class="pre">ContactFinder</span></code>) to compute line-of-sight (LOS) contact opportunities between two entities
(satellite to ground-station or satellite to satellite).</p>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">instrupy.util.GeoUtilityFunctions.checkLOSavailability</span></code> function from the InstruPy package is called to determine if line-of-sight exists between two entities
with the occluding body as Earth. The algorithm from Page 198, <em>Fundamental of Astrodynamics and Applications,</em> David A. Vallado is used (the first algorithm
of the two described) to check for LOS.</p>
<p>In case of entity being a satellite, a data file with the satellite states at different times of the mission is required as input. At each of these times the LOS condition is evaluated
from the satellite to another entity (another satellite or ground-station). The format of the input data file of the satellite states is the same as the format of the output data file of the
<code class="xref py py-class docutils literal notranslate"><span class="pre">orbitpy.propagator</span></code> module (see <a class="reference internal" href="module_propagator.html#module-propagator"><span class="std std-ref">orbit.propagator — Propagator Module</span></a>). The states must be of the type <code class="docutils literal notranslate"><span class="pre">CARTESIAN_EARTH_CENTERED_INERTIAL</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">ContactFinder</span></code> class is to be utilized by invoking the static-methods <code class="docutils literal notranslate"><span class="pre">execute(.)</span></code> and <code class="docutils literal notranslate"><span class="pre">find_all_pairs(.)</span></code>, i.e. utilization of this
class does <strong>not</strong> involve creation of a class instance.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>In case of satellite-to-satellite contact finder the input time-series of the states of the two satellites must be in sync, i.e. the epoch, time-step and duration must be the same.</p>
</div>
<div class="admonition-todo admonition" id="id1">
<p class="admonition-title">Todo</p>
<p>Include docs about find_all_pairs(.) function.</p>
</div>
<div class="section" id="output-data-file-format">
<span id="contacts-file-format"></span><h3>Output data file format<a class="headerlink" href="#output-data-file-format" title="Permalink to this heading">¶</a></h3>
<p>The results can be stored in a concise manner where the time-intervals at which the LOS exists are written and/or in a descriptive manner with
information about range, elevation-angle (only in case of satellite to ground-station) at each time. Below is the description of the format of the
output csv files.</p>
<ol class="arabic">
<li><p><em>INTERVAL Format</em></p>
<ul class="simple">
<li><p>The first row indicates the entity identifiers of the entities between which the contacts were evaluated.</p></li>
<li><p>The second row containing the mission epoch in Julian Day UT1. The time (index) in the state data is referenced to this epoch.</p></li>
<li><p>The third row contains the time step-size in seconds.</p></li>
</ul>
<p>The later lines contain the interval data in csv format with the following column headers:</p>
<table class="colwidths-given docutils align-default" id="id2">
<caption><span class="caption-text">Contact file INTERVAL data format</span><a class="headerlink" href="#id2" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Column</p></th>
<th class="head"><p>Data type</p></th>
<th class="head"><p>Units</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>start index</p></td>
<td><p>int</p></td>
<td></td>
<td><p>Contact start time-index.</p></td>
</tr>
<tr class="row-odd"><td><p>stop index</p></td>
<td><p>int</p></td>
<td></td>
<td><p>Contact stop time-index.</p></td>
</tr>
</tbody>
</table>
</li>
<li><p><em>DETAIL Format</em></p>
<ul class="simple">
<li><p>The first row indicates the entity identifiers of the entities between which the contacts were evaluated.</p></li>
<li><p>The second row containing the mission epoch in Julian Day UT1. The time (index) in the state data is referenced to this epoch.</p></li>
<li><p>The third row contains the time step-size in seconds.</p></li>
</ul>
<p>The later lines contain the interval data in csv format with the following column headers:
(The ‘elevation [deg]’ column appears only for the case of satellite-to-ground-station contact finder results.)</p>
<table class="colwidths-given docutils align-default" id="id3">
<caption><span class="caption-text">Contact file DETAIL data format</span><a class="headerlink" href="#id3" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Column</p></th>
<th class="head"><p>Data type</p></th>
<th class="head"><p>Units</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>time index</p></td>
<td><p>int</p></td>
<td></td>
<td><p>Contact time-index.</p></td>
</tr>
<tr class="row-odd"><td><p>access</p></td>
<td><p>bool</p></td>
<td></td>
<td><p>‘T’ indicating True or F indicating False.</p></td>
</tr>
<tr class="row-even"><td><p>range [km]</p></td>
<td><p>float</p></td>
<td><p>kilometer</p></td>
<td><p>Distance between the two entities at the corresponding time.</p></td>
</tr>
<tr class="row-odd"><td><p>elevation [deg]</p></td>
<td><p>float</p></td>
<td><p>degrees</p></td>
<td><p>Angle between the ground-plane and the ground-station to satellite line.</p></td>
</tr>
</tbody>
</table>
</li>
</ol>
<p>A <code class="docutils literal notranslate"><span class="pre">ContactFinderOutputInfo</span></code> object is also returned upon the execution of the contact finder (<code class="docutils literal notranslate"><span class="pre">ContactFinder.execute(.)</span></code>).
This object contains meta information about the results.</p>
</div>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this heading">¶</a></h2>
<ol class="arabic">
<li><p>Satellite to satellite contacts</p>
<p><code class="docutils literal notranslate"><span class="pre">spcA</span></code>, <code class="docutils literal notranslate"><span class="pre">spcB</span></code> satellites are defined and the orbits propagated to obtain the state information. The contact finder is executed by passing both the <code class="docutils literal notranslate"><span class="pre">spcA</span></code> and <code class="docutils literal notranslate"><span class="pre">spcB</span></code> objects,
the path to the respective state files, a output filename (<em>spcA_to_spcB.csv</em>), path to the output directory, output format as <code class="docutils literal notranslate"><span class="pre">INTERVAL</span></code> and an opaque atmospheric height as 30km.
The opaque atmospheric height (relevant only in case of satellite to satellite contact evaluation) adds to the Earth’s radius and increases the occlusion area.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">orbitpy.util</span> <span class="kn">import</span> <span class="n">Spacecraft</span>
<span class="kn">from</span> <span class="nn">orbitpy.propagator</span> <span class="kn">import</span> <span class="n">PropagatorFactory</span>
<span class="kn">from</span> <span class="nn">orbitpy.contactfinder</span> <span class="kn">import</span> <span class="n">ContactFinder</span>

<span class="n">out_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">realpath</span><span class="p">(</span><span class="vm">__file__</span><span class="p">))</span>

<span class="sd">&#39;&#39;&#39; Propagate satellites to obtain the state information.&#39;&#39;&#39;</span>
<span class="n">factory</span> <span class="o">=</span> <span class="n">PropagatorFactory</span><span class="p">()</span>
<span class="n">j2_prop</span> <span class="o">=</span> <span class="n">factory</span><span class="o">.</span><span class="n">get_propagator</span><span class="p">({</span><span class="s2">&quot;@type&quot;</span><span class="p">:</span> <span class="s1">&#39;J2 ANALYTICAL PROPAGATOR&#39;</span><span class="p">,</span> <span class="s2">&quot;stepSize&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">})</span>

<span class="n">spcA</span> <span class="o">=</span> <span class="n">Spacecraft</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;spcA&quot;</span><span class="p">,</span> <span class="s2">&quot;orbitState&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;date&quot;</span><span class="p">:{</span><span class="s2">&quot;@type&quot;</span><span class="p">:</span><span class="s2">&quot;GREGORIAN_UT1&quot;</span><span class="p">,</span> <span class="s2">&quot;year&quot;</span><span class="p">:</span><span class="mi">2021</span><span class="p">,</span> <span class="s2">&quot;month&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;day&quot;</span><span class="p">:</span><span class="mi">28</span><span class="p">,</span> <span class="s2">&quot;hour&quot;</span><span class="p">:</span><span class="mi">12</span><span class="p">,</span> <span class="s2">&quot;minute&quot;</span><span class="p">:</span><span class="mi">29</span><span class="p">,</span> <span class="s2">&quot;second&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">},</span> \
                                                <span class="s2">&quot;state&quot;</span><span class="p">:{</span><span class="s2">&quot;@type&quot;</span><span class="p">:</span> <span class="s2">&quot;KEPLERIAN_EARTH_CENTERED_INERTIAL&quot;</span><span class="p">,</span> <span class="s2">&quot;sma&quot;</span><span class="p">:</span> <span class="mf">7073.9</span><span class="p">,</span> <span class="s2">&quot;ecc&quot;</span><span class="p">:</span> <span class="mf">0.000133</span><span class="p">,</span> <span class="s2">&quot;inc&quot;</span><span class="p">:</span> <span class="mf">98.1818</span><span class="p">,</span> <span class="s2">&quot;raan&quot;</span><span class="p">:</span> <span class="mf">38.3243</span><span class="p">,</span> <span class="s2">&quot;aop&quot;</span><span class="p">:</span> <span class="mf">86.2045</span><span class="p">,</span> <span class="s2">&quot;ta&quot;</span><span class="p">:</span> <span class="mf">273.932</span><span class="p">}</span> \
                              <span class="p">}})</span>
<span class="n">state_cart_file_spcA</span> <span class="o">=</span> <span class="n">out_dir</span> <span class="o">+</span> <span class="s1">&#39;/cart_states_spcA.csv&#39;</span>
<span class="n">j2_prop</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">spacecraft</span><span class="o">=</span><span class="n">spcA</span><span class="p">,</span> <span class="n">out_file_cart</span><span class="o">=</span><span class="n">state_cart_file_spcA</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="n">spcB</span> <span class="o">=</span> <span class="n">Spacecraft</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;spcB&quot;</span><span class="p">,</span> <span class="s2">&quot;orbitState&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;date&quot;</span><span class="p">:{</span><span class="s2">&quot;@type&quot;</span><span class="p">:</span><span class="s2">&quot;GREGORIAN_UT1&quot;</span><span class="p">,</span> <span class="s2">&quot;year&quot;</span><span class="p">:</span><span class="mi">2021</span><span class="p">,</span> <span class="s2">&quot;month&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;day&quot;</span><span class="p">:</span><span class="mi">28</span><span class="p">,</span> <span class="s2">&quot;hour&quot;</span><span class="p">:</span><span class="mi">12</span><span class="p">,</span> <span class="s2">&quot;minute&quot;</span><span class="p">:</span><span class="mi">29</span><span class="p">,</span> <span class="s2">&quot;second&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">},</span> \
                                                <span class="s2">&quot;state&quot;</span><span class="p">:{</span><span class="s2">&quot;@type&quot;</span><span class="p">:</span> <span class="s2">&quot;KEPLERIAN_EARTH_CENTERED_INERTIAL&quot;</span><span class="p">,</span> <span class="s2">&quot;sma&quot;</span><span class="p">:</span> <span class="mf">7073.9</span><span class="p">,</span> <span class="s2">&quot;ecc&quot;</span><span class="p">:</span> <span class="mf">0.000133</span><span class="p">,</span> <span class="s2">&quot;inc&quot;</span><span class="p">:</span> <span class="mf">98.1816</span><span class="p">,</span> <span class="s2">&quot;raan&quot;</span><span class="p">:</span> <span class="mi">150</span><span class="p">,</span> <span class="s2">&quot;aop&quot;</span><span class="p">:</span> <span class="mf">84.837</span><span class="p">,</span> <span class="s2">&quot;ta&quot;</span><span class="p">:</span> <span class="mf">275.3</span><span class="p">}</span> \
                              <span class="p">}})</span>
<span class="n">state_cart_file_spcB</span> <span class="o">=</span> <span class="n">out_dir</span> <span class="o">+</span> <span class="s1">&#39;/cart_states_spcB.csv&#39;</span>
<span class="n">j2_prop</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">spacecraft</span><span class="o">=</span><span class="n">spcB</span><span class="p">,</span> <span class="n">out_file_cart</span><span class="o">=</span><span class="n">state_cart_file_spcB</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="sd">&quot;&quot;&quot; Run the contact finder and store results in the directory specified by out_dir.&quot;&quot;&quot;</span>
<span class="n">out_info</span> <span class="o">=</span> <span class="n">ContactFinder</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">spcA</span><span class="p">,</span> <span class="n">spcB</span><span class="p">,</span> <span class="n">out_dir</span><span class="p">,</span> <span class="n">state_cart_file_spcA</span><span class="p">,</span> <span class="n">state_cart_file_spcB</span><span class="p">,</span> <span class="s2">&quot;spcA_to_spcB.csv&quot;</span><span class="p">,</span> <span class="n">ContactFinder</span><span class="o">.</span><span class="n">OutType</span><span class="o">.</span><span class="n">INTERVAL</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>

<span class="n">spcA_to_spcB</span><span class="o">.</span><span class="n">csv</span>
<span class="o">-----------------</span>
<span class="n">Contacts</span> <span class="n">between</span> <span class="n">Entity1</span> <span class="k">with</span> <span class="nb">id</span> <span class="mi">83</span><span class="n">aca45e</span><span class="o">-</span><span class="mi">9</span><span class="n">b13</span><span class="o">-</span><span class="mi">4</span><span class="n">bc9</span><span class="o">-</span><span class="mi">9</span><span class="n">a7a</span><span class="o">-</span><span class="n">cbf542aa6cca</span> <span class="k">with</span> <span class="n">Entity2</span> <span class="k">with</span> <span class="nb">id</span> <span class="mi">6</span><span class="n">a0944c8</span><span class="o">-</span><span class="mi">934</span><span class="n">c</span><span class="o">-</span><span class="mi">410</span><span class="n">e</span><span class="o">-</span><span class="n">bfe2</span><span class="o">-</span><span class="mi">0</span><span class="n">ec7d3c7000d</span>
<span class="n">Epoch</span> <span class="p">[</span><span class="n">JDUT1</span><span class="p">]</span> <span class="ow">is</span> <span class="mf">2459243.020162037</span>
<span class="n">Step</span> <span class="n">size</span> <span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="ow">is</span> <span class="mf">10.0</span>
<span class="n">start</span> <span class="n">index</span><span class="p">,</span><span class="n">end</span> <span class="n">index</span>
<span class="mi">99</span><span class="p">,</span><span class="mi">197</span>
<span class="mi">396</span><span class="p">,</span><span class="mi">494</span>
<span class="mi">692</span><span class="p">,</span><span class="mi">790</span>
<span class="mi">989</span><span class="p">,</span><span class="mi">1087</span>
<span class="o">...</span>
</pre></div>
</div>
</li>
<li><p>Satellite to ground-station contacts</p>
<p><code class="docutils literal notranslate"><span class="pre">spc</span></code> satellite is defined and the orbit propagated to obtain the state information. The groundstation is defined by the <code class="docutils literal notranslate"><span class="pre">gs</span></code> object.
The contact finder is executed by passing both the <code class="docutils literal notranslate"><span class="pre">spc</span></code> and <code class="docutils literal notranslate"><span class="pre">gs</span></code> objects, the path to the satellite state file,
path to the output directory and output format as <code class="docutils literal notranslate"><span class="pre">DETAIL</span></code>. Since an output filename is not specified, the name <em>Euro_to_Atl.csv</em> is chosen
where <em>Euro</em> is the name of satellite and <em>Atl</em> is name of ground-station.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">orbitpy.util</span> <span class="kn">import</span> <span class="n">Spacecraft</span><span class="p">,</span> <span class="n">GroundStation</span>
<span class="kn">from</span> <span class="nn">orbitpy.propagator</span> <span class="kn">import</span> <span class="n">PropagatorFactory</span>
<span class="kn">from</span> <span class="nn">orbitpy.contactfinder</span> <span class="kn">import</span> <span class="n">ContactFinder</span>

<span class="n">out_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">realpath</span><span class="p">(</span><span class="vm">__file__</span><span class="p">))</span>

<span class="sd">&#39;&#39;&#39; Propagate satellite to obtain the state information.&#39;&#39;&#39;</span>
<span class="n">factory</span> <span class="o">=</span> <span class="n">PropagatorFactory</span><span class="p">()</span>
<span class="n">j2_prop</span> <span class="o">=</span> <span class="n">factory</span><span class="o">.</span><span class="n">get_propagator</span><span class="p">({</span><span class="s2">&quot;@type&quot;</span><span class="p">:</span> <span class="s1">&#39;J2 ANALYTICAL PROPAGATOR&#39;</span><span class="p">,</span> <span class="s2">&quot;stepSize&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">})</span>

<span class="n">spc</span> <span class="o">=</span> <span class="n">Spacecraft</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Euro&quot;</span><span class="p">,</span> <span class="s2">&quot;orbitState&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;date&quot;</span><span class="p">:{</span><span class="s2">&quot;@type&quot;</span><span class="p">:</span><span class="s2">&quot;GREGORIAN_UT1&quot;</span><span class="p">,</span> <span class="s2">&quot;year&quot;</span><span class="p">:</span><span class="mi">2021</span><span class="p">,</span> <span class="s2">&quot;month&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;day&quot;</span><span class="p">:</span><span class="mi">28</span><span class="p">,</span> <span class="s2">&quot;hour&quot;</span><span class="p">:</span><span class="mi">12</span><span class="p">,</span> <span class="s2">&quot;minute&quot;</span><span class="p">:</span><span class="mi">29</span><span class="p">,</span> <span class="s2">&quot;second&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">},</span> \
                                                <span class="s2">&quot;state&quot;</span><span class="p">:{</span><span class="s2">&quot;@type&quot;</span><span class="p">:</span> <span class="s2">&quot;KEPLERIAN_EARTH_CENTERED_INERTIAL&quot;</span><span class="p">,</span> <span class="s2">&quot;sma&quot;</span><span class="p">:</span> <span class="mf">7073.9</span><span class="p">,</span> <span class="s2">&quot;ecc&quot;</span><span class="p">:</span> <span class="mf">0.000133</span><span class="p">,</span> <span class="s2">&quot;inc&quot;</span><span class="p">:</span> <span class="mf">98.1818</span><span class="p">,</span> <span class="s2">&quot;raan&quot;</span><span class="p">:</span> <span class="mf">38.3243</span><span class="p">,</span> <span class="s2">&quot;aop&quot;</span><span class="p">:</span> <span class="mf">86.2045</span><span class="p">,</span> <span class="s2">&quot;ta&quot;</span><span class="p">:</span> <span class="mf">273.932</span><span class="p">}</span> \
                           <span class="p">}})</span>
<span class="n">state_cart_file_spc</span> <span class="o">=</span> <span class="n">out_dir</span> <span class="o">+</span> <span class="s1">&#39;/cart_states_spc.csv&#39;</span>
<span class="n">j2_prop</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">spacecraft</span><span class="o">=</span><span class="n">spc</span><span class="p">,</span> <span class="n">out_file_cart</span><span class="o">=</span><span class="n">state_cart_file_spc</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="n">gs</span> <span class="o">=</span> <span class="n">GroundStation</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span><span class="s2">&quot;@id&quot;</span><span class="p">:</span><span class="mi">833</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Atl&quot;</span><span class="p">,</span> <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">88</span><span class="p">,</span> <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="mi">25</span><span class="p">,</span> <span class="s2">&quot;minimumElevation&quot;</span><span class="p">:</span><span class="mi">12</span> <span class="p">})</span> <span class="c1"># by default the minimum elevation is 7 deg.</span>

<span class="sd">&quot;&quot;&quot; Run the contact finder and store results in the directory specified by out_dir.&quot;&quot;&quot;</span>
<span class="n">out_info</span> <span class="o">=</span> <span class="n">ContactFinder</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">spc</span><span class="p">,</span> <span class="n">gs</span><span class="p">,</span> <span class="n">out_dir</span><span class="p">,</span> <span class="n">state_cart_file_spc</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">ContactFinder</span><span class="o">.</span><span class="n">OutType</span><span class="o">.</span><span class="n">DETAIL</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

<span class="n">Euro_to_Atl</span><span class="o">.</span><span class="n">csv</span>
<span class="o">-----------------</span>
<span class="n">Contacts</span> <span class="n">between</span> <span class="n">Entity1</span> <span class="k">with</span> <span class="nb">id</span> <span class="n">bd66e4c5</span><span class="o">-</span><span class="n">cb73</span><span class="o">-</span><span class="mi">4</span><span class="n">c09</span><span class="o">-</span><span class="mi">831</span><span class="n">a</span><span class="o">-</span><span class="mi">5</span><span class="n">a75acd4300e</span> <span class="k">with</span> <span class="n">Entity2</span> <span class="k">with</span> <span class="nb">id</span> <span class="mi">833</span>
<span class="n">Epoch</span> <span class="p">[</span><span class="n">JDUT1</span><span class="p">]</span> <span class="ow">is</span> <span class="mf">2459243.020162037</span>
<span class="n">Step</span> <span class="n">size</span> <span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="ow">is</span> <span class="mf">10.0</span>
<span class="n">time</span> <span class="n">index</span><span class="p">,</span><span class="n">access</span><span class="p">,</span><span class="nb">range</span> <span class="p">[</span><span class="n">km</span><span class="p">],</span><span class="n">elevation</span> <span class="p">[</span><span class="n">deg</span><span class="p">]</span>
<span class="mi">0</span><span class="p">,</span><span class="kc">False</span><span class="p">,</span><span class="mf">9448.07</span><span class="p">,</span>
<span class="mi">1</span><span class="p">,</span><span class="kc">False</span><span class="p">,</span><span class="mf">9497.69</span><span class="p">,</span>
<span class="o">...</span>
<span class="mi">407</span><span class="p">,</span><span class="kc">False</span><span class="p">,</span><span class="mf">3090.93</span><span class="p">,</span>
<span class="mi">408</span><span class="p">,</span><span class="kc">False</span><span class="p">,</span><span class="mf">3028.52</span><span class="p">,</span><span class="mf">0.3</span>
<span class="mi">409</span><span class="p">,</span><span class="kc">False</span><span class="p">,</span><span class="mf">2966.33</span><span class="p">,</span><span class="mf">0.87</span>
<span class="mi">410</span><span class="p">,</span><span class="kc">False</span><span class="p">,</span><span class="mf">2904.38</span><span class="p">,</span><span class="mf">1.45</span>
<span class="o">...</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="api">
<h2>API<a class="headerlink" href="#api" title="Permalink to this heading">¶</a></h2>
<p class="rubric">Classes</p>
<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/orbitpy.contactfinder.ContactFinder.html#orbitpy.contactfinder.ContactFinder" title="orbitpy.contactfinder.ContactFinder"><code class="xref py py-obj docutils literal notranslate"><span class="pre">orbitpy.contactfinder.ContactFinder</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/orbitpy.contactfinder.ContactFinderOutputInfo.html#orbitpy.contactfinder.ContactFinderOutputInfo" title="orbitpy.contactfinder.ContactFinderOutputInfo"><code class="xref py py-obj docutils literal notranslate"><span class="pre">orbitpy.contactfinder.ContactFinderOutputInfo</span></code></a></p></td>
<td><p>Class to hold information about the results of the contact finder. An object of this class is returned upon the execution</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Functions</p>
<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/orbitpy.contactfinder.ContactPairs.html#orbitpy.contactfinder.ContactPairs" title="orbitpy.contactfinder.ContactPairs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">orbitpy.contactfinder.ContactPairs</span></code></a></p></td>
<td><p>Function returns a namedtuple class to store entity pairs (entityA, entityB) where each entity can be a <a class="reference internal" href="generated/orbitpy.util.Spacecraft.html#orbitpy.util.Spacecraft" title="orbitpy.util.Spacecraft"><code class="xref py py-class docutils literal notranslate"><span class="pre">orbitpy.util.Spacecraft</span></code></a> or <a class="reference internal" href="generated/orbitpy.util.GroundStation.html#orbitpy.util.GroundStation" title="orbitpy.util.GroundStation"><code class="xref py py-class docutils literal notranslate"><span class="pre">orbitpy.util.GroundStation</span></code></a> object.</p></td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="generated/orbitpy.contactfinder.ContactFinder.html" class="btn btn-neutral float-right" title="ContactFinder" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="generated/orbitpy.coveragecalculator.filter_mid_interval_access.html" class="btn btn-neutral float-left" title="filter_mid_interval_access" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, BAERI.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>