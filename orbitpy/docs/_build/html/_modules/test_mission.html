

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>test_mission &mdash; OrbitPy 0.1 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> OrbitPy
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../user_guide.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_reference.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../miscellaneous.html">Miscellaneous</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">OrbitPy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Module code</a> &raquo;</li>
        
      <li>test_mission</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for test_mission</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;Unit tests for orbitpy.mission module.</span>

<span class="sd">The following tests are framed to test the different possible ways in which the mission can be framed in the JSON string and called to execute.</span>

<span class="sd">TODO: In each test, the output is tested with the results as computed on July 2021 (thus representing the &quot;truth&quot; data). The truth data is to be present in the folder ``test_data``.</span>

<span class="sd">**Tests:**</span>

<span class="sd">* ``test_scenario_1``: 1 satellite, no instrument ; propagation only, auto/ custom-time-step. The mission epoch is same, different from the satellite orbit-state date.</span>
<span class="sd">* ``test_scenario_2``: 1 satellite, 1 instrument ; propagation (custom time-step), grid-coverage (2 (auto) grids, default and custom-grid res), data-metrics calculation.</span>
<span class="sd">* ``test_scenario_3``: 1 satellite, 1 instrument ; propagation, pointing-options coverage, data-metrics calculation, contact-finder (ground-station only).</span>
<span class="sd">* ``test_scenario_4``: 1 satellite, 1 instrument ; propagation, pointing-options with grid-coverage, data-metrics calculation, contact-finder (ground-station only).</span>
<span class="sd">* ``test_scenario_5``: 1 satellite, multiple ground-stations ; propagation, contact-finder (ground-station only).</span>
<span class="sd">* ``test_scenario_6``: Multiple satellites from constellation; propagation, contact-finder (ground-station, inter-satellite).</span>
<span class="sd">* ``test_scenario_7``: Multiple satellites from constellation, single-instrument per satellite ; propagation, pointing-options-coverage, data-metrics calculation, contact-finder (inter-satellite only).</span>
<span class="sd">* TODO ``test_scenario_8``: Multiple satellites from list, multiple instruments per satellite, multiple ground-stations ; propagation, grid-coverage, data-metrics calculation, contact-finder (ground-station and inter-satellite).</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">shutil</span>
<span class="kn">import</span> <span class="nn">unittest</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="kn">import</span> <span class="nn">orbitpy</span>
<span class="kn">from</span> <span class="nn">orbitpy.mission</span> <span class="kn">import</span> <span class="n">Mission</span>
<span class="kn">from</span> <span class="nn">orbitpy.propagator</span> <span class="kn">import</span> <span class="n">J2AnalyticalPropagator</span>
<span class="kn">from</span> <span class="nn">orbitpy.util</span> <span class="kn">import</span> <span class="n">Spacecraft</span><span class="p">,</span> <span class="n">GroundStation</span>

<div class="viewcode-block" id="TestSettings"><a class="viewcode-back" href="../tests.html#test_mission.TestSettings">[docs]</a><span class="k">class</span> <span class="nc">TestSettings</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span> <span class="c1">#TODO</span>
    <span class="k">pass</span></div>

<div class="viewcode-block" id="TestMission"><a class="viewcode-back" href="../tests.html#test_mission.TestMission">[docs]</a><span class="k">class</span> <span class="nc">TestMission</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>

<div class="viewcode-block" id="TestMission.setUpClass"><a class="viewcode-back" href="../tests.html#test_mission.TestMission.setUpClass">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">setUpClass</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="c1"># Create new working directory to store output of all the class functions. </span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">dir_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">realpath</span><span class="p">(</span><span class="vm">__file__</span><span class="p">))</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">out_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">dir_path</span><span class="p">,</span> <span class="s1">&#39;temp&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">out_dir</span><span class="p">):</span>
            <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">out_dir</span><span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">out_dir</span><span class="p">)</span></div>
        
<div class="viewcode-block" id="TestMission.test_scenario_1"><a class="viewcode-back" href="../tests.html#test_mission.TestMission.test_scenario_1">[docs]</a>    <span class="k">def</span> <span class="nf">test_scenario_1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;  1 satellite, no instrument ; propagation only, auto, custom-time-step. The mission epoch is same, different from the satellite orbit-state date.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># auto propagation step-size, mission-date different from spacecraft orbitstate date</span>
        <span class="n">mission_json_str</span> <span class="o">=</span> <span class="s1">&#39;{  &quot;epoch&quot;:{&quot;@type&quot;:&quot;GREGORIAN_UT1&quot;, &quot;year&quot;:2021, &quot;month&quot;:3, &quot;day&quot;:25, &quot;hour&quot;:15, &quot;minute&quot;:6, &quot;second&quot;:8}, </span><span class="se">\</span>
<span class="s1">                                &quot;duration&quot;: 0.1, </span><span class="se">\</span>
<span class="s1">                                &quot;spacecraft&quot;: { </span><span class="se">\</span>
<span class="s1">                                   &quot;spacecraftBus&quot;:{&quot;orientation&quot;:{&quot;referenceFrame&quot;: &quot;NADIR_POINTING&quot;, &quot;convention&quot;: &quot;REF_FRAME_ALIGNED&quot;} </span><span class="se">\</span>
<span class="s1">                                                   }, </span><span class="se">\</span>
<span class="s1">                                   &quot;orbitState&quot;: {&quot;date&quot;:{&quot;@type&quot;:&quot;GREGORIAN_UT1&quot;, &quot;year&quot;:2021, &quot;month&quot;:2, &quot;day&quot;:25, &quot;hour&quot;:6, &quot;minute&quot;:0, &quot;second&quot;:0}, </span><span class="se">\</span>
<span class="s1">                                                  &quot;state&quot;:{&quot;@type&quot;: &quot;KEPLERIAN_EARTH_CENTERED_INERTIAL&quot;, &quot;sma&quot;: 6878.137, &quot;ecc&quot;: 0.001, &quot;inc&quot;: 45, &quot;raan&quot;: 35, &quot;aop&quot;: 145, &quot;ta&quot;: -25} </span><span class="se">\</span>
<span class="s1">                                                } </span><span class="se">\</span>
<span class="s1">                                    }, </span><span class="se">\</span>
<span class="s1">                                &quot;settings&quot;: {&quot;outDir&quot;: &quot;temp/&quot;, &quot;opaqueAtmosHeight&quot;:30} </span><span class="se">\</span>
<span class="s1">                            }&#39;</span>
        <span class="n">mission</span> <span class="o">=</span> <span class="n">Mission</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">mission_json_str</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">mission</span><span class="o">.</span><span class="n">epoch</span><span class="o">.</span><span class="n">GetJulianDate</span><span class="p">(),</span> <span class="mf">2459299.1292592594</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">mission</span><span class="o">.</span><span class="n">duration</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">mission</span><span class="o">.</span><span class="n">spacecraft</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">mission</span><span class="o">.</span><span class="n">spacecraft</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">Spacecraft</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span> <span class="s2">&quot;spacecraftBus&quot;</span><span class="p">:{</span><span class="s2">&quot;orientation&quot;</span><span class="p">:{</span><span class="s2">&quot;referenceFrame&quot;</span><span class="p">:</span> <span class="s2">&quot;NADIR_POINTING&quot;</span><span class="p">,</span> <span class="s2">&quot;convention&quot;</span><span class="p">:</span> <span class="s2">&quot;REF_FRAME_ALIGNED&quot;</span><span class="p">}},</span> 
                                                                          <span class="s2">&quot;orbitState&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;date&quot;</span><span class="p">:{</span><span class="s2">&quot;@type&quot;</span><span class="p">:</span><span class="s2">&quot;GREGORIAN_UT1&quot;</span><span class="p">,</span> <span class="s2">&quot;year&quot;</span><span class="p">:</span><span class="mi">2021</span><span class="p">,</span> <span class="s2">&quot;month&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;day&quot;</span><span class="p">:</span><span class="mi">25</span><span class="p">,</span> <span class="s2">&quot;hour&quot;</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span> <span class="s2">&quot;minute&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;second&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span>
                                                                                            <span class="s2">&quot;state&quot;</span><span class="p">:{</span><span class="s2">&quot;@type&quot;</span><span class="p">:</span> <span class="s2">&quot;KEPLERIAN_EARTH_CENTERED_INERTIAL&quot;</span><span class="p">,</span> <span class="s2">&quot;sma&quot;</span><span class="p">:</span> <span class="mf">6878.137</span><span class="p">,</span> <span class="s2">&quot;ecc&quot;</span><span class="p">:</span> <span class="mf">0.001</span><span class="p">,</span> <span class="s2">&quot;inc&quot;</span><span class="p">:</span> <span class="mi">45</span><span class="p">,</span> <span class="s2">&quot;raan&quot;</span><span class="p">:</span> <span class="mi">35</span><span class="p">,</span> <span class="s2">&quot;aop&quot;</span><span class="p">:</span> <span class="mi">145</span><span class="p">,</span> <span class="s2">&quot;ta&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">25</span><span class="p">}}</span> 
                                                                        <span class="p">}))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">mission</span><span class="o">.</span><span class="n">propagator</span><span class="p">,</span> <span class="n">J2AnalyticalPropagator</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span><span class="s2">&quot;@type&quot;</span><span class="p">:</span> <span class="s2">&quot;J2 ANALYTICAL PROPAGATOR&quot;</span><span class="p">,</span> <span class="s2">&quot;stepSize&quot;</span><span class="p">:</span> <span class="mf">173.31598026839598</span><span class="p">}))</span> <span class="c1"># corresponds to time-step calculated considering horizon angle = 136.0373... deg and time-resolution factor = 0.25</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIsNone</span><span class="p">(</span><span class="n">mission</span><span class="o">.</span><span class="n">grid</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIsNone</span><span class="p">(</span><span class="n">mission</span><span class="o">.</span><span class="n">groundStation</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">mission</span><span class="o">.</span><span class="n">propagator</span><span class="o">.</span><span class="n">stepSize</span><span class="p">,</span> <span class="mf">173.31598026839598</span><span class="p">)</span> 
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">mission</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">outDir</span><span class="p">,</span>  <span class="s2">&quot;temp/&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIsNone</span><span class="p">(</span><span class="n">mission</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">coverageType</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">mission</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">propTimeResFactor</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">mission</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">gridResFactor</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">mission</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">opaqueAtmosHeight</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>

        <span class="n">out_info</span> <span class="o">=</span> <span class="n">mission</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>

        <span class="c1"># custom propagation step-size, mission-date same as spacecraft orbitstate date, custom propTimeResFactor = 1/8</span>
        <span class="n">mission_json_str</span> <span class="o">=</span> <span class="s1">&#39;{  &quot;epoch&quot;:{&quot;@type&quot;:&quot;GREGORIAN_UT1&quot;, &quot;year&quot;:2021, &quot;month&quot;:2, &quot;day&quot;:25, &quot;hour&quot;:6, &quot;minute&quot;:0, &quot;second&quot;:0}, </span><span class="se">\</span>
<span class="s1">                                &quot;duration&quot;: 0.1, </span><span class="se">\</span>
<span class="s1">                                &quot;spacecraft&quot;: { </span><span class="se">\</span>
<span class="s1">                                   &quot;spacecraftBus&quot;:{&quot;orientation&quot;:{&quot;referenceFrame&quot;: &quot;NADIR_POINTING&quot;, &quot;convention&quot;: &quot;REF_FRAME_ALIGNED&quot;} </span><span class="se">\</span>
<span class="s1">                                                   }, </span><span class="se">\</span>
<span class="s1">                                   &quot;orbitState&quot;: {&quot;date&quot;:{&quot;@type&quot;:&quot;GREGORIAN_UT1&quot;, &quot;year&quot;:2021, &quot;month&quot;:2, &quot;day&quot;:25, &quot;hour&quot;:6, &quot;minute&quot;:0, &quot;second&quot;:0}, </span><span class="se">\</span>
<span class="s1">                                                  &quot;state&quot;:{&quot;@type&quot;: &quot;KEPLERIAN_EARTH_CENTERED_INERTIAL&quot;, &quot;sma&quot;: 6878.137, &quot;ecc&quot;: 0.001, &quot;inc&quot;: 45, &quot;raan&quot;: 35, &quot;aop&quot;: 145, &quot;ta&quot;: -25} </span><span class="se">\</span>
<span class="s1">                                                } </span><span class="se">\</span>
<span class="s1">                                    }, </span><span class="se">\</span>
<span class="s1">                                &quot;settings&quot;: {&quot;outDir&quot;: &quot;temp/&quot;, &quot;propTimeResFactor&quot;: 0.125} </span><span class="se">\</span>
<span class="s1">                            }&#39;</span>
        <span class="n">mission</span> <span class="o">=</span> <span class="n">Mission</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">mission_json_str</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">mission</span><span class="o">.</span><span class="n">epoch</span><span class="o">.</span><span class="n">GetJulianDate</span><span class="p">(),</span> <span class="mf">2459270.75</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">mission</span><span class="o">.</span><span class="n">propagator</span><span class="p">,</span> <span class="n">J2AnalyticalPropagator</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span><span class="s2">&quot;@type&quot;</span><span class="p">:</span> <span class="s2">&quot;J2 ANALYTICAL PROPAGATOR&quot;</span><span class="p">,</span> <span class="s2">&quot;stepSize&quot;</span><span class="p">:</span> <span class="mf">86.657990134197990</span><span class="p">}))</span> <span class="c1"># corresponds to time-step calculated considering horizon angle = 136.0373... deg and time-resolution factor = 1/8</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">mission</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">propTimeResFactor</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">8</span><span class="p">)</span>

        <span class="n">out_info</span> <span class="o">=</span> <span class="n">mission</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="TestMission.test_scenario_2"><a class="viewcode-back" href="../tests.html#test_mission.TestMission.test_scenario_2">[docs]</a>    <span class="k">def</span> <span class="nf">test_scenario_2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;  1 satellite, 1 instrument ; propagation (custom time-step), (field-of-regard) grid-coverage (2 (auto) grids, default and custom-grid res), basic-sensor data-metrics calculation.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># check warnings are issued.</span>
        <span class="n">mission_json_str</span> <span class="o">=</span> <span class="s1">&#39;{  &quot;epoch&quot;:{&quot;@type&quot;:&quot;GREGORIAN_UT1&quot;, &quot;year&quot;:2021, &quot;month&quot;:2, &quot;day&quot;:25, &quot;hour&quot;:6, &quot;minute&quot;:0, &quot;second&quot;:0}, </span><span class="se">\</span>
<span class="s1">                                &quot;duration&quot;: 0.1, </span><span class="se">\</span>
<span class="s1">                                &quot;spacecraft&quot;: { </span><span class="se">\</span>
<span class="s1">                                   &quot;spacecraftBus&quot;:{&quot;orientation&quot;:{&quot;referenceFrame&quot;: &quot;NADIR_POINTING&quot;, &quot;convention&quot;: &quot;REF_FRAME_ALIGNED&quot;} </span><span class="se">\</span>
<span class="s1">                                                   }, </span><span class="se">\</span>
<span class="s1">                                   &quot;orbitState&quot;: {&quot;date&quot;:{&quot;@type&quot;:&quot;GREGORIAN_UT1&quot;, &quot;year&quot;:2021, &quot;month&quot;:2, &quot;day&quot;:25, &quot;hour&quot;:6, &quot;minute&quot;:0, &quot;second&quot;:0}, </span><span class="se">\</span>
<span class="s1">                                                  &quot;state&quot;:{&quot;@type&quot;: &quot;KEPLERIAN_EARTH_CENTERED_INERTIAL&quot;, &quot;sma&quot;: 6878.137, &quot;ecc&quot;: 0.001, &quot;inc&quot;: 45, &quot;raan&quot;: 35, &quot;aop&quot;: 145, &quot;ta&quot;: -25} </span><span class="se">\</span>
<span class="s1">                                                }, </span><span class="se">\</span>
<span class="s1">                                   &quot;instrument&quot;: { &quot;orientation&quot;: {&quot;referenceFrame&quot;: &quot;SC_BODY_FIXED&quot;, &quot;convention&quot;: &quot;REF_FRAME_ALIGNED&quot;}, </span><span class="se">\</span>
<span class="s1">                                                   &quot;fieldOfViewGeometry&quot;: {&quot;shape&quot;: &quot;CIRCULAR&quot;, &quot;diameter&quot;:15 }, </span><span class="se">\</span>
<span class="s1">                                                   &quot;maneuver&quot;:{&quot;maneuverType&quot;: &quot;CIRCULAR&quot;, &quot;diameter&quot;:10}, </span><span class="se">\</span>
<span class="s1">                                                   &quot;@id&quot;:&quot;bs1&quot;, &quot;@type&quot;:&quot;Basic Sensor&quot; </span><span class="se">\</span>
<span class="s1">                                            } </span><span class="se">\</span>
<span class="s1">                                    }, </span><span class="se">\</span>
<span class="s1">                                &quot;propagator&quot;: {&quot;@type&quot;: &quot;J2 ANALYTICAL PROPAGATOR&quot;, &quot;stepSize&quot;: 200}, </span><span class="se">\</span>
<span class="s1">                                &quot;settings&quot;: {&quot;outDir&quot;: &quot;temp/&quot;, &quot;coverageType&quot;: &quot;GRID COVERAGE&quot;} </span><span class="se">\</span>
<span class="s1">                            }&#39;</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertWarns</span><span class="p">(</span><span class="ne">Warning</span><span class="p">):</span> <span class="c1"># check for warning that user specified step-size is greater than auto-calculated step-size.</span>
            <span class="n">mission</span> <span class="o">=</span> <span class="n">Mission</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">mission_json_str</span><span class="p">)</span>

        <span class="n">mission</span> <span class="o">=</span> <span class="n">Mission</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">mission_json_str</span><span class="p">)</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">assertWarns</span><span class="p">(</span><span class="ne">Warning</span><span class="p">):</span> <span class="c1"># check for warning that grid has not been specified.</span>
            <span class="n">out_info</span> <span class="o">=</span> <span class="n">mission</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>

        <span class="c1"># check execution with single grid.</span>
        <span class="n">mission_json_str</span> <span class="o">=</span> <span class="s1">&#39;{   &quot;epoch&quot;:{&quot;@type&quot;:&quot;GREGORIAN_UT1&quot;, &quot;year&quot;:2018, &quot;month&quot;:5, &quot;day&quot;:15, &quot;hour&quot;:12, &quot;minute&quot;:12, &quot;second&quot;:12}, </span><span class="se">\</span>
<span class="s1">                                &quot;duration&quot;: 0.5, </span><span class="se">\</span>
<span class="s1">                                &quot;spacecraft&quot;: [{ </span><span class="se">\</span>
<span class="s1">                                   &quot;spacecraftBus&quot;:{&quot;orientation&quot;:{&quot;referenceFrame&quot;: &quot;NADIR_POINTING&quot;, &quot;convention&quot;: &quot;REF_FRAME_ALIGNED&quot;} </span><span class="se">\</span>
<span class="s1">                                                   }, </span><span class="se">\</span>
<span class="s1">                                   &quot;orbitState&quot;: {&quot;date&quot;:{&quot;@type&quot;:&quot;GREGORIAN_UT1&quot;, &quot;year&quot;:2018, &quot;month&quot;:5, &quot;day&quot;:15, &quot;hour&quot;:12, &quot;minute&quot;:12, &quot;second&quot;:12}, </span><span class="se">\</span>
<span class="s1">                                                  &quot;state&quot;:{&quot;@type&quot;: &quot;KEPLERIAN_EARTH_CENTERED_INERTIAL&quot;, &quot;sma&quot;: 6878.137, &quot;ecc&quot;: 0.001, &quot;inc&quot;: 30, &quot;raan&quot;: 35, &quot;aop&quot;: 145, &quot;ta&quot;: -25} </span><span class="se">\</span>
<span class="s1">                                                }, </span><span class="se">\</span>
<span class="s1">                                   &quot;instrument&quot;: { &quot;orientation&quot;: {&quot;referenceFrame&quot;: &quot;SC_BODY_FIXED&quot;, &quot;convention&quot;: &quot;REF_FRAME_ALIGNED&quot;}, </span><span class="se">\</span>
<span class="s1">                                                   &quot;fieldOfViewGeometry&quot;: {&quot;shape&quot;: &quot;CIRCULAR&quot;, &quot;diameter&quot;:15 }, </span><span class="se">\</span>
<span class="s1">                                                   &quot;maneuver&quot;:{&quot;maneuverType&quot;: &quot;CIRCULAR&quot;, &quot;diameter&quot;:10}, </span><span class="se">\</span>
<span class="s1">                                                   &quot;@id&quot;:&quot;bs1&quot;, &quot;@type&quot;:&quot;Basic Sensor&quot; </span><span class="se">\</span>
<span class="s1">                                            } </span><span class="se">\</span>
<span class="s1">                                    }], </span><span class="se">\</span>
<span class="s1">                                &quot;propagator&quot;: {&quot;@type&quot;: &quot;J2 ANALYTICAL PROPAGATOR&quot;, &quot;stepSize&quot;: 60}, </span><span class="se">\</span>
<span class="s1">                                &quot;grid&quot;: [{&quot;@type&quot;: &quot;autogrid&quot;, &quot;@id&quot;: &quot;cus&quot;, &quot;latUpper&quot;:2, &quot;latLower&quot;:0, &quot;lonUpper&quot;:180, &quot;lonLower&quot;:-180}, {&quot;@type&quot;: &quot;autogrid&quot;, &quot;@id&quot;: &quot;auto&quot;, &quot;latUpper&quot;:20, &quot;latLower&quot;:0, &quot;lonUpper&quot;:180, &quot;lonLower&quot;:-180, &quot;gridRes&quot;: 1}], </span><span class="se">\</span>
<span class="s1">                                &quot;settings&quot;: {&quot;outDir&quot;: &quot;temp/&quot;, &quot;coverageType&quot;: &quot;GRID COVERAGE&quot;, &quot;gridResFactor&quot;: 0.5} </span><span class="se">\</span>
<span class="s1">                            }&#39;</span>

        <span class="n">mission</span> <span class="o">=</span> <span class="n">Mission</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">mission_json_str</span><span class="p">)</span>
 
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">mission</span><span class="o">.</span><span class="n">propagator</span><span class="p">,</span> <span class="n">J2AnalyticalPropagator</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span><span class="s2">&quot;@type&quot;</span><span class="p">:</span> <span class="s2">&quot;J2 ANALYTICAL PROPAGATOR&quot;</span><span class="p">,</span> <span class="s2">&quot;stepSize&quot;</span><span class="p">:</span> <span class="mi">60</span><span class="p">}))</span>


        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">mission</span><span class="o">.</span><span class="n">grid</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
        <span class="c1"># 0.5917400590151374 is the grid-resolution calculated for the 15 deg FOV sensor at altitude of 500km and gridResFactor = 0.5</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">mission</span><span class="o">.</span><span class="n">grid</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">num_points</span><span class="p">,</span> <span class="mi">1820</span><span class="p">)</span> <span class="c1"># ~ 4*pi/ (0.5917400590151374*pi/180 * 0.5917400590151374*pi/180) *  ((2*pi)*(2*pi/180))/(4*pi)</span>
        <span class="c1"># 1 deg grid resolution is input in the specifications</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">mission</span><span class="o">.</span><span class="n">grid</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">num_points</span><span class="p">,</span> <span class="mi">7402</span><span class="p">)</span> <span class="c1"># ~ 4*pi/ (pi/180 * pi/180) * ((2*pi)*(20*pi/180)/(4*pi)) </span>

        <span class="n">out_info</span> <span class="o">=</span> <span class="n">mission</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="TestMission.test_scenario_3"><a class="viewcode-back" href="../tests.html#test_mission.TestMission.test_scenario_3">[docs]</a>    <span class="k">def</span> <span class="nf">test_scenario_3</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;  1 satellite, 1 instrument ; propagation, pointing-options coverage, basic-sensor data-metrics calculation.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">mission_json_str</span> <span class="o">=</span> <span class="s1">&#39;{   &quot;epoch&quot;:{&quot;@type&quot;:&quot;GREGORIAN_UT1&quot;, &quot;year&quot;:2021, &quot;month&quot;:3, &quot;day&quot;:12, &quot;hour&quot;:23, &quot;minute&quot;:12, &quot;second&quot;:12}, </span><span class="se">\</span>
<span class="s1">                                &quot;duration&quot;: 0.05, </span><span class="se">\</span>
<span class="s1">                                &quot;spacecraft&quot;: { </span><span class="se">\</span>
<span class="s1">                                   &quot;spacecraftBus&quot;:{&quot;orientation&quot;:{&quot;referenceFrame&quot;: &quot;NADIR_POINTING&quot;, &quot;convention&quot;: &quot;REF_FRAME_ALIGNED&quot;} </span><span class="se">\</span>
<span class="s1">                                                   }, </span><span class="se">\</span>
<span class="s1">                                   &quot;orbitState&quot;: {&quot;date&quot;:{&quot;@type&quot;:&quot;GREGORIAN_UT1&quot;, &quot;year&quot;:2021, &quot;month&quot;:2, &quot;day&quot;:15, &quot;hour&quot;:12, &quot;minute&quot;:12, &quot;second&quot;:12}, </span><span class="se">\</span>
<span class="s1">                                                  &quot;state&quot;:{&quot;@type&quot;: &quot;KEPLERIAN_EARTH_CENTERED_INERTIAL&quot;, &quot;sma&quot;: 7078.137, &quot;ecc&quot;: 0.001, &quot;inc&quot;: 98, &quot;raan&quot;: 35, &quot;aop&quot;: 145, &quot;ta&quot;: -25} </span><span class="se">\</span>
<span class="s1">                                                }, </span><span class="se">\</span>
<span class="s1">                                   &quot;instrument&quot;: [{ &quot;orientation&quot;: {&quot;referenceFrame&quot;: &quot;SC_BODY_FIXED&quot;, &quot;convention&quot;: &quot;REF_FRAME_ALIGNED&quot;}, </span><span class="se">\</span>
<span class="s1">                                                   &quot;fieldOfViewGeometry&quot;: {&quot;shape&quot;: &quot;rectangular&quot;, &quot;angleHeight&quot;:15, &quot;angleWidth&quot;:10 }, </span><span class="se">\</span>
<span class="s1">                                                   &quot;pointingOption&quot;:[{&quot;referenceFrame&quot;: &quot;NADIR_POINTING&quot;, &quot;convention&quot;: &quot;SIDE_LOOK&quot;, &quot;sideLookAngle&quot;:0}, </span><span class="se">\</span>
<span class="s1">                                                                      {&quot;referenceFrame&quot;: &quot;NADIR_POINTING&quot;, &quot;convention&quot;: &quot;SIDE_LOOK&quot;, &quot;sideLookAngle&quot;:-15}, </span><span class="se">\</span>
<span class="s1">                                                                      {&quot;referenceFrame&quot;: &quot;NADIR_POINTING&quot;, &quot;convention&quot;: &quot;SIDE_LOOK&quot;, &quot;sideLookAngle&quot;:15}], </span><span class="se">\</span>
<span class="s1">                                                   &quot;@id&quot;:&quot;bs1&quot;, &quot;@type&quot;:&quot;Basic Sensor&quot; </span><span class="se">\</span>
<span class="s1">                                                  }] </span><span class="se">\</span>
<span class="s1">                                    }, </span><span class="se">\</span>
<span class="s1">                                &quot;settings&quot;: {&quot;outDir&quot;: &quot;temp/&quot;, &quot;coverageType&quot;: &quot;POINTING OPTIONS COVERAGE&quot;} </span><span class="se">\</span>
<span class="s1">                            }&#39;</span>

        <span class="n">mission</span> <span class="o">=</span> <span class="n">Mission</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">mission_json_str</span><span class="p">)</span>

 
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">mission</span><span class="o">.</span><span class="n">epoch</span><span class="o">.</span><span class="n">GetJulianDate</span><span class="p">(),</span> <span class="mf">2459286.4668055554</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">mission</span><span class="o">.</span><span class="n">propagator</span><span class="p">,</span> <span class="n">J2AnalyticalPropagator</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span><span class="s2">&quot;@type&quot;</span><span class="p">:</span> <span class="s2">&quot;J2 ANALYTICAL PROPAGATOR&quot;</span><span class="p">,</span> <span class="s2">&quot;stepSize&quot;</span><span class="p">:</span> <span class="mf">6.820899943040534</span><span class="p">}))</span>

        <span class="n">out_info</span> <span class="o">=</span> <span class="n">mission</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="TestMission.test_scenario_4"><a class="viewcode-back" href="../tests.html#test_mission.TestMission.test_scenario_4">[docs]</a>    <span class="k">def</span> <span class="nf">test_scenario_4</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; 1 satellite, 1 SAR instrument ; propagation, pointing-options with grid-coverage and access-file correction (since sidelooking instrument with narrow At-fov), SAR data-metrics calculation.</span>
<span class="sd">            Using default propagation step-size and grid-resolution. The scene FOV has angleWidth = instrument FOV angleWidth. The scene FOV angleHeight is larger to allow for coarser propagation step-size and gird-resolution.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">mission_json_str</span> <span class="o">=</span> <span class="s1">&#39;{   &quot;epoch&quot;:{&quot;@type&quot;:&quot;GREGORIAN_UT1&quot;, &quot;year&quot;:2018, &quot;month&quot;:5, &quot;day&quot;:15, &quot;hour&quot;:12, &quot;minute&quot;:12, &quot;second&quot;:12}, </span><span class="se">\</span>
<span class="s1">                                &quot;duration&quot;: 0.1, </span><span class="se">\</span>
<span class="s1">                                &quot;spacecraft&quot;: { </span><span class="se">\</span>
<span class="s1">                                   &quot;spacecraftBus&quot;:{&quot;orientation&quot;:{&quot;referenceFrame&quot;: &quot;NADIR_POINTING&quot;, &quot;convention&quot;: &quot;REF_FRAME_ALIGNED&quot;} </span><span class="se">\</span>
<span class="s1">                                                   }, </span><span class="se">\</span>
<span class="s1">                                   &quot;orbitState&quot;: {&quot;date&quot;:{&quot;@type&quot;:&quot;GREGORIAN_UT1&quot;, &quot;year&quot;:2018, &quot;month&quot;:5, &quot;day&quot;:15, &quot;hour&quot;:12, &quot;minute&quot;:12, &quot;second&quot;:12}, </span><span class="se">\</span>
<span class="s1">                                                  &quot;state&quot;:{&quot;@type&quot;: &quot;KEPLERIAN_EARTH_CENTERED_INERTIAL&quot;, &quot;sma&quot;: 7078.137, &quot;ecc&quot;: 0.001, &quot;inc&quot;: 98, &quot;raan&quot;: 35, &quot;aop&quot;: 145, &quot;ta&quot;: -25} </span><span class="se">\</span>
<span class="s1">                                                }, </span><span class="se">\</span>
<span class="s1">                                   &quot;instrument&quot;: { &quot;@type&quot;: &quot;Synthetic Aperture Radar&quot;, &quot;@id&quot;: &quot;sar1&quot;, </span><span class="se">\</span>
<span class="s1">                                                    &quot;orientation&quot;: { &quot;convention&quot;: &quot;SIDE_LOOK&quot;, &quot;sideLookAngle&quot;: 20.5 }, </span><span class="se">\</span>
<span class="s1">                                                    &quot;antenna&quot;:{&quot;shape&quot;: &quot;RECTANGULAR&quot;, &quot;height&quot;: 10.7, &quot;width&quot;: 2.16, &quot;apertureEfficiency&quot;: 0.6, &quot;apertureExcitation&quot;: &quot;UNIFORM&quot;}, </span><span class="se">\</span>
<span class="s1">                                                    &quot;sceneFieldOfViewGeometry&quot;: {&quot;shape&quot;: &quot;RECTANGULAR&quot;, &quot;angleHeight&quot;:5, &quot;angleWidth&quot;:6.233630110575892}, </span><span class="se">\</span>
<span class="s1">                                                    &quot;pulseWidth&quot;: 33.4e-6, </span><span class="se">\</span>
<span class="s1">                                                    &quot;operatingFrequency&quot;: 1.2757e9, &quot;peakTransmitPower&quot;: 1000, &quot;chirpBandwidth&quot;: 19e6, </span><span class="se">\</span>
<span class="s1">                                                    &quot;minimumPRF&quot;: 1463, &quot;maximumPRF&quot;: 1686, &quot;radarLoss&quot;: 3.5, &quot;systemNoiseFigure&quot;: 5.11, </span><span class="se">\</span>
<span class="s1">                                                    &quot;pointingOption&quot;:[{&quot;referenceFrame&quot;: &quot;NADIR_POINTING&quot;, &quot;convention&quot;: &quot;SIDE_LOOK&quot;, &quot;sideLookAngle&quot;:-20.5}, </span><span class="se">\</span>
<span class="s1">                                                                    {&quot;referenceFrame&quot;: &quot;NADIR_POINTING&quot;, &quot;convention&quot;: &quot;SIDE_LOOK&quot;, &quot;sideLookAngle&quot;:20.5}] </span><span class="se">\</span>
<span class="s1">                                                    } </span><span class="se">\</span>
<span class="s1">                                    }, </span><span class="se">\</span>
<span class="s1">                                &quot;grid&quot;: [{&quot;@type&quot;: &quot;autogrid&quot;, &quot;@id&quot;: 1, &quot;latUpper&quot;:2, &quot;latLower&quot;:0, &quot;lonUpper&quot;:180, &quot;lonLower&quot;:-180}, {&quot;@type&quot;: &quot;autogrid&quot;, &quot;@id&quot;: 2, &quot;latUpper&quot;:22, &quot;latLower&quot;:20, &quot;lonUpper&quot;:180, &quot;lonLower&quot;:-180}], </span><span class="se">\</span>
<span class="s1">                                &quot;settings&quot;: {&quot;outDir&quot;: &quot;temp/&quot;, &quot;coverageType&quot;: &quot;POINTING OPTIONS WITH GRID COVERAGE&quot;, &quot;midAccessOnly&quot;: true} </span><span class="se">\</span>
<span class="s1">                            }&#39;</span>

        <span class="n">mission</span> <span class="o">=</span> <span class="n">Mission</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">mission_json_str</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">mission</span><span class="o">.</span><span class="n">epoch</span><span class="o">.</span><span class="n">GetJulianDate</span><span class="p">(),</span> <span class="mf">2458254.0084722224</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">mission</span><span class="o">.</span><span class="n">propagator</span><span class="p">,</span> <span class="n">J2AnalyticalPropagator</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span><span class="s2">&quot;@type&quot;</span><span class="p">:</span> <span class="s2">&quot;J2 ANALYTICAL PROPAGATOR&quot;</span><span class="p">,</span> <span class="s2">&quot;stepSize&quot;</span><span class="p">:</span> <span class="mf">2.2600808214710266</span><span class="p">}))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">mission</span><span class="o">.</span><span class="n">grid</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">num_points</span><span class="p">,</span> <span class="mi">2906</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">mission</span><span class="o">.</span><span class="n">grid</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">num_points</span><span class="p">,</span> <span class="mi">2710</span><span class="p">)</span>

        <span class="n">out_info</span> <span class="o">=</span> <span class="n">mission</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span></div>

<div class="viewcode-block" id="TestMission.test_scenario_5"><a class="viewcode-back" href="../tests.html#test_mission.TestMission.test_scenario_5">[docs]</a>    <span class="k">def</span> <span class="nf">test_scenario_5</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;    1 satellite, multiple ground-stations ; propagation, contact-finder (ground-station only).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">mission_json_str</span> <span class="o">=</span> <span class="s1">&#39;{  &quot;epoch&quot;:{&quot;@type&quot;:&quot;GREGORIAN_UT1&quot;, &quot;year&quot;:2021, &quot;month&quot;:3, &quot;day&quot;:25, &quot;hour&quot;:15, &quot;minute&quot;:6, &quot;second&quot;:8}, </span><span class="se">\</span>
<span class="s1">                                &quot;duration&quot;: 0.5, </span><span class="se">\</span>
<span class="s1">                                &quot;spacecraft&quot;: { </span><span class="se">\</span>
<span class="s1">                                   &quot;spacecraftBus&quot;:{&quot;orientation&quot;:{&quot;referenceFrame&quot;: &quot;NADIR_POINTING&quot;, &quot;convention&quot;: &quot;REF_FRAME_ALIGNED&quot;} </span><span class="se">\</span>
<span class="s1">                                                   }, </span><span class="se">\</span>
<span class="s1">                                   &quot;orbitState&quot;: {&quot;date&quot;:{&quot;@type&quot;:&quot;GREGORIAN_UT1&quot;, &quot;year&quot;:2021, &quot;month&quot;:2, &quot;day&quot;:25, &quot;hour&quot;:6, &quot;minute&quot;:0, &quot;second&quot;:0}, </span><span class="se">\</span>
<span class="s1">                                                  &quot;state&quot;:{&quot;@type&quot;: &quot;KEPLERIAN_EARTH_CENTERED_INERTIAL&quot;, &quot;sma&quot;: 6878.137, &quot;ecc&quot;: 0.001, &quot;inc&quot;: 98, &quot;raan&quot;: 35, &quot;aop&quot;: 145, &quot;ta&quot;: -25} </span><span class="se">\</span>
<span class="s1">                                                } </span><span class="se">\</span>
<span class="s1">                                    }, </span><span class="se">\</span>
<span class="s1">                                &quot;groundStation&quot;:[{&quot;name&quot;: &quot;TrollSAR&quot;, &quot;latitude&quot;: -72.0029, &quot;longitude&quot;: 2.5257, &quot;altitude&quot;:0}, </span><span class="se">\</span>
<span class="s1">                                                 {&quot;name&quot;: &quot;CONAE&quot;, &quot;latitude&quot;: -31.52, &quot;longitude&quot;: -64.46, &quot;altitude&quot;:0}], </span><span class="se">\</span>
<span class="s1">                                &quot;settings&quot;: {&quot;outDir&quot;: &quot;temp/&quot;} </span><span class="se">\</span>
<span class="s1">                            }&#39;</span>
        
        <span class="n">mission</span> <span class="o">=</span> <span class="n">Mission</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">mission_json_str</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">mission</span><span class="o">.</span><span class="n">groundStation</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIsInstance</span><span class="p">(</span><span class="n">mission</span><span class="o">.</span><span class="n">groundStation</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">GroundStation</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">mission</span><span class="o">.</span><span class="n">groundStation</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">GroundStation</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;TrollSAR&quot;</span><span class="p">,</span> <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">72.0029</span><span class="p">,</span> <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="mf">2.5257</span><span class="p">,</span> <span class="s2">&quot;altitude&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">}))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIsInstance</span><span class="p">(</span><span class="n">mission</span><span class="o">.</span><span class="n">groundStation</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">GroundStation</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">mission</span><span class="o">.</span><span class="n">groundStation</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">GroundStation</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;CONAE&quot;</span><span class="p">,</span> <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">31.52</span><span class="p">,</span> <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">64.46</span><span class="p">,</span> <span class="s2">&quot;altitude&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">}))</span>

        <span class="n">out_info</span> <span class="o">=</span> <span class="n">mission</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="TestMission.test_scenario_6"><a class="viewcode-back" href="../tests.html#test_mission.TestMission.test_scenario_6">[docs]</a>    <span class="k">def</span> <span class="nf">test_scenario_6</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;    Multiple satellites from constellation, common instrument; propagation, contact-finder (ground-station, inter-satellite only).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">mission_json_str</span> <span class="o">=</span> <span class="s1">&#39;{  &quot;epoch&quot;:{&quot;@type&quot;:&quot;JULIAN_DATE_UT1&quot;, &quot;jd&quot;:2459270.75}, </span><span class="se">\</span>
<span class="s1">                                &quot;duration&quot;: 0.25, </span><span class="se">\</span>
<span class="s1">                                &quot;constellation&quot;: { &quot;@type&quot;: &quot;Walker Delta Constellation&quot;, </span><span class="se">\</span>
<span class="s1">                                        &quot;date&quot;:{&quot;@type&quot;: &quot;JULIAN_DATE_UT1&quot;, &quot;jd&quot;:2459270.75}, </span><span class="se">\</span>
<span class="s1">                                        &quot;numberSatellites&quot;: 8, </span><span class="se">\</span>
<span class="s1">                                        &quot;numberPlanes&quot;: 1, </span><span class="se">\</span>
<span class="s1">                                        &quot;relativeSpacing&quot;: 1, </span><span class="se">\</span>
<span class="s1">                                        &quot;alt&quot;: 700, </span><span class="se">\</span>
<span class="s1">                                        &quot;ecc&quot;: 0.001, </span><span class="se">\</span>
<span class="s1">                                        &quot;inc&quot;: 45, </span><span class="se">\</span>
<span class="s1">                                        &quot;aop&quot;: 135, </span><span class="se">\</span>
<span class="s1">                                        &quot;@id&quot;: &quot;abc&quot; </span><span class="se">\</span>
<span class="s1">                                    }, </span><span class="se">\</span>
<span class="s1">                                &quot;groundStation&quot;:{&quot;name&quot;: &quot;CONAE&quot;, &quot;latitude&quot;: -31.52, &quot;longitude&quot;: -64.46, &quot;altitude&quot;:0}, </span><span class="se">\</span>
<span class="s1">                                &quot;settings&quot;: {&quot;outDir&quot;: &quot;temp/&quot;} </span><span class="se">\</span>
<span class="s1">                            }&#39;</span>
        <span class="n">mission</span> <span class="o">=</span> <span class="n">Mission</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">mission_json_str</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">mission</span><span class="o">.</span><span class="n">spacecraft</span><span class="p">),</span> <span class="mi">8</span><span class="p">)</span>   
        <span class="c1"># check the assigned spacecraft&#39;s ids.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">mission</span><span class="o">.</span><span class="n">spacecraft</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">_id</span><span class="p">,</span> <span class="s2">&quot;spc_abc_11&quot;</span><span class="p">)</span>   
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">mission</span><span class="o">.</span><span class="n">spacecraft</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">_id</span><span class="p">,</span> <span class="s2">&quot;spc_abc_12&quot;</span><span class="p">)</span> 
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">mission</span><span class="o">.</span><span class="n">spacecraft</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">_id</span><span class="p">,</span> <span class="s2">&quot;spc_abc_13&quot;</span><span class="p">)</span> 
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">mission</span><span class="o">.</span><span class="n">spacecraft</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">_id</span><span class="p">,</span> <span class="s2">&quot;spc_abc_14&quot;</span><span class="p">)</span> 
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">mission</span><span class="o">.</span><span class="n">spacecraft</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">_id</span><span class="p">,</span> <span class="s2">&quot;spc_abc_15&quot;</span><span class="p">)</span> 
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">mission</span><span class="o">.</span><span class="n">spacecraft</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">_id</span><span class="p">,</span> <span class="s2">&quot;spc_abc_16&quot;</span><span class="p">)</span> 
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">mission</span><span class="o">.</span><span class="n">spacecraft</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span><span class="o">.</span><span class="n">_id</span><span class="p">,</span> <span class="s2">&quot;spc_abc_17&quot;</span><span class="p">)</span> 
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">mission</span><span class="o">.</span><span class="n">spacecraft</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span><span class="o">.</span><span class="n">_id</span><span class="p">,</span> <span class="s2">&quot;spc_abc_18&quot;</span><span class="p">)</span>   

        <span class="n">out_info</span> <span class="o">=</span> <span class="n">mission</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>

        <span class="c1"># test the satellites initial Keplerian states to confirm that the constellation is generated correctly.</span>
        <span class="n">state_sat0_fl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">out_dir</span> <span class="o">+</span> <span class="s1">&#39;/sat0/state_keplerian.csv&#39;</span>        
        <span class="p">(</span><span class="n">epoch_JDUT1</span><span class="p">,</span> <span class="n">step_size</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span> <span class="o">=</span> <span class="n">orbitpy</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">extract_auxillary_info_from_state_file</span><span class="p">(</span><span class="n">state_sat0_fl</span><span class="p">)</span>
        <span class="n">state_sat0_row0</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">state_sat0_fl</span><span class="p">,</span> <span class="n">skiprows</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">nrows</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">epoch_JDUT1</span><span class="p">,</span> <span class="mf">2459270.75</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">step_size</span><span class="p">,</span> <span class="mf">211.50955372780942</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">duration</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat0_row0</span><span class="p">[</span><span class="s1">&#39;sma [km]&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="mf">7078.137</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat0_row0</span><span class="p">[</span><span class="s1">&#39;ecc&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="mf">0.001</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat0_row0</span><span class="p">[</span><span class="s1">&#39;inc [deg]&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="mi">45</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat0_row0</span><span class="p">[</span><span class="s1">&#39;raan [deg]&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">%</span><span class="mi">360</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat0_row0</span><span class="p">[</span><span class="s1">&#39;aop [deg]&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="mf">135.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat0_row0</span><span class="p">[</span><span class="s1">&#39;ta [deg]&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">%</span><span class="mi">360</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>

        <span class="n">state_sat1_fl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">out_dir</span> <span class="o">+</span> <span class="s1">&#39;/sat1/state_keplerian.csv&#39;</span>        
        <span class="p">(</span><span class="n">epoch_JDUT1</span><span class="p">,</span> <span class="n">step_size</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span> <span class="o">=</span> <span class="n">orbitpy</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">extract_auxillary_info_from_state_file</span><span class="p">(</span><span class="n">state_sat1_fl</span><span class="p">)</span>
        <span class="n">state_sat1_row0</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">state_sat1_fl</span><span class="p">,</span> <span class="n">skiprows</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">nrows</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">epoch_JDUT1</span><span class="p">,</span> <span class="mf">2459270.75</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">step_size</span><span class="p">,</span> <span class="mf">211.50955372780942</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">duration</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat1_row0</span><span class="p">[</span><span class="s1">&#39;sma [km]&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="mf">7078.137</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat1_row0</span><span class="p">[</span><span class="s1">&#39;ecc&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="mf">0.001</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat1_row0</span><span class="p">[</span><span class="s1">&#39;inc [deg]&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="mi">45</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat1_row0</span><span class="p">[</span><span class="s1">&#39;raan [deg]&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">%</span><span class="mi">360</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat1_row0</span><span class="p">[</span><span class="s1">&#39;aop [deg]&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="mf">135.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat1_row0</span><span class="p">[</span><span class="s1">&#39;ta [deg]&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">%</span><span class="mi">360</span><span class="p">,</span> <span class="mi">45</span><span class="p">)</span>

        <span class="n">state_sat2_fl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">out_dir</span> <span class="o">+</span> <span class="s1">&#39;/sat2/state_keplerian.csv&#39;</span>        
        <span class="p">(</span><span class="n">epoch_JDUT1</span><span class="p">,</span> <span class="n">step_size</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span> <span class="o">=</span> <span class="n">orbitpy</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">extract_auxillary_info_from_state_file</span><span class="p">(</span><span class="n">state_sat2_fl</span><span class="p">)</span>
        <span class="n">state_sat2_row0</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">state_sat2_fl</span><span class="p">,</span> <span class="n">skiprows</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">nrows</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">epoch_JDUT1</span><span class="p">,</span> <span class="mf">2459270.75</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">step_size</span><span class="p">,</span> <span class="mf">211.50955372780942</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">duration</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat2_row0</span><span class="p">[</span><span class="s1">&#39;sma [km]&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="mf">7078.137</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat2_row0</span><span class="p">[</span><span class="s1">&#39;ecc&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="mf">0.001</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat2_row0</span><span class="p">[</span><span class="s1">&#39;inc [deg]&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="mi">45</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat2_row0</span><span class="p">[</span><span class="s1">&#39;raan [deg]&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">%</span><span class="mi">360</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat2_row0</span><span class="p">[</span><span class="s1">&#39;aop [deg]&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="mf">135.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat2_row0</span><span class="p">[</span><span class="s1">&#39;ta [deg]&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">%</span><span class="mi">360</span><span class="p">,</span> <span class="mi">90</span><span class="p">)</span>

        <span class="n">state_sat3_fl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">out_dir</span> <span class="o">+</span> <span class="s1">&#39;/sat3/state_keplerian.csv&#39;</span>        
        <span class="p">(</span><span class="n">epoch_JDUT1</span><span class="p">,</span> <span class="n">step_size</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span> <span class="o">=</span> <span class="n">orbitpy</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">extract_auxillary_info_from_state_file</span><span class="p">(</span><span class="n">state_sat3_fl</span><span class="p">)</span>
        <span class="n">state_sat3_row0</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">state_sat3_fl</span><span class="p">,</span> <span class="n">skiprows</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">nrows</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">epoch_JDUT1</span><span class="p">,</span> <span class="mf">2459270.75</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">step_size</span><span class="p">,</span> <span class="mf">211.50955372780942</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">duration</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat3_row0</span><span class="p">[</span><span class="s1">&#39;sma [km]&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="mf">7078.137</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat3_row0</span><span class="p">[</span><span class="s1">&#39;ecc&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="mf">0.001</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat3_row0</span><span class="p">[</span><span class="s1">&#39;inc [deg]&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="mi">45</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat3_row0</span><span class="p">[</span><span class="s1">&#39;raan [deg]&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">%</span><span class="mi">360</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat3_row0</span><span class="p">[</span><span class="s1">&#39;aop [deg]&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="mf">135.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat3_row0</span><span class="p">[</span><span class="s1">&#39;ta [deg]&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">%</span><span class="mi">360</span><span class="p">,</span> <span class="mi">135</span><span class="p">)</span>

        <span class="n">state_sat4_fl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">out_dir</span> <span class="o">+</span> <span class="s1">&#39;/sat4/state_keplerian.csv&#39;</span>        
        <span class="p">(</span><span class="n">epoch_JDUT1</span><span class="p">,</span> <span class="n">step_size</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span> <span class="o">=</span> <span class="n">orbitpy</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">extract_auxillary_info_from_state_file</span><span class="p">(</span><span class="n">state_sat4_fl</span><span class="p">)</span>
        <span class="n">state_sat4_row0</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">state_sat4_fl</span><span class="p">,</span> <span class="n">skiprows</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">nrows</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">epoch_JDUT1</span><span class="p">,</span> <span class="mf">2459270.75</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">step_size</span><span class="p">,</span> <span class="mf">211.50955372780942</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">duration</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat4_row0</span><span class="p">[</span><span class="s1">&#39;sma [km]&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="mf">7078.137</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat4_row0</span><span class="p">[</span><span class="s1">&#39;ecc&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="mf">0.001</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat4_row0</span><span class="p">[</span><span class="s1">&#39;inc [deg]&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="mi">45</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat4_row0</span><span class="p">[</span><span class="s1">&#39;raan [deg]&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">%</span><span class="mi">360</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat4_row0</span><span class="p">[</span><span class="s1">&#39;aop [deg]&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="mf">135.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat4_row0</span><span class="p">[</span><span class="s1">&#39;ta [deg]&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">%</span><span class="mi">360</span><span class="p">,</span> <span class="mi">180</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="mf">0.001</span><span class="p">)</span>

        <span class="n">state_sat5_fl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">out_dir</span> <span class="o">+</span> <span class="s1">&#39;/sat5/state_keplerian.csv&#39;</span>        
        <span class="p">(</span><span class="n">epoch_JDUT1</span><span class="p">,</span> <span class="n">step_size</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span> <span class="o">=</span> <span class="n">orbitpy</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">extract_auxillary_info_from_state_file</span><span class="p">(</span><span class="n">state_sat5_fl</span><span class="p">)</span>
        <span class="n">state_sat5_row0</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">state_sat5_fl</span><span class="p">,</span> <span class="n">skiprows</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">nrows</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">epoch_JDUT1</span><span class="p">,</span> <span class="mf">2459270.75</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">step_size</span><span class="p">,</span> <span class="mf">211.50955372780942</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">duration</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat5_row0</span><span class="p">[</span><span class="s1">&#39;sma [km]&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="mf">7078.137</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat5_row0</span><span class="p">[</span><span class="s1">&#39;ecc&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="mf">0.001</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat5_row0</span><span class="p">[</span><span class="s1">&#39;inc [deg]&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="mi">45</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat5_row0</span><span class="p">[</span><span class="s1">&#39;raan [deg]&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">%</span><span class="mi">360</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat5_row0</span><span class="p">[</span><span class="s1">&#39;aop [deg]&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="mf">135.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat5_row0</span><span class="p">[</span><span class="s1">&#39;ta [deg]&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">%</span><span class="mi">360</span><span class="p">,</span> <span class="mi">225</span><span class="p">)</span>

        <span class="n">state_sat6_fl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">out_dir</span> <span class="o">+</span> <span class="s1">&#39;/sat6/state_keplerian.csv&#39;</span>        
        <span class="p">(</span><span class="n">epoch_JDUT1</span><span class="p">,</span> <span class="n">step_size</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span> <span class="o">=</span> <span class="n">orbitpy</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">extract_auxillary_info_from_state_file</span><span class="p">(</span><span class="n">state_sat6_fl</span><span class="p">)</span>
        <span class="n">state_sat6_row0</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">state_sat6_fl</span><span class="p">,</span> <span class="n">skiprows</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">nrows</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">epoch_JDUT1</span><span class="p">,</span> <span class="mf">2459270.75</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">step_size</span><span class="p">,</span> <span class="mf">211.50955372780942</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">duration</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat6_row0</span><span class="p">[</span><span class="s1">&#39;sma [km]&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="mf">7078.137</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat6_row0</span><span class="p">[</span><span class="s1">&#39;ecc&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="mf">0.001</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat6_row0</span><span class="p">[</span><span class="s1">&#39;inc [deg]&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="mi">45</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat6_row0</span><span class="p">[</span><span class="s1">&#39;raan [deg]&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">%</span><span class="mi">360</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat6_row0</span><span class="p">[</span><span class="s1">&#39;aop [deg]&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="mf">135.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat6_row0</span><span class="p">[</span><span class="s1">&#39;ta [deg]&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">%</span><span class="mi">360</span><span class="p">,</span> <span class="mi">270</span><span class="p">)</span>

        <span class="n">state_sat7_fl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">out_dir</span> <span class="o">+</span> <span class="s1">&#39;/sat7/state_keplerian.csv&#39;</span>        
        <span class="p">(</span><span class="n">epoch_JDUT1</span><span class="p">,</span> <span class="n">step_size</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span> <span class="o">=</span> <span class="n">orbitpy</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">extract_auxillary_info_from_state_file</span><span class="p">(</span><span class="n">state_sat7_fl</span><span class="p">)</span>
        <span class="n">state_sat7_row0</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">state_sat7_fl</span><span class="p">,</span> <span class="n">skiprows</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">nrows</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">epoch_JDUT1</span><span class="p">,</span> <span class="mf">2459270.75</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">step_size</span><span class="p">,</span> <span class="mf">211.50955372780942</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">duration</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat7_row0</span><span class="p">[</span><span class="s1">&#39;sma [km]&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="mf">7078.137</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat7_row0</span><span class="p">[</span><span class="s1">&#39;ecc&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="mf">0.001</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat7_row0</span><span class="p">[</span><span class="s1">&#39;inc [deg]&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="mi">45</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat7_row0</span><span class="p">[</span><span class="s1">&#39;raan [deg]&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">%</span><span class="mi">360</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat7_row0</span><span class="p">[</span><span class="s1">&#39;aop [deg]&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="mf">135.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertAlmostEqual</span><span class="p">(</span><span class="n">state_sat7_row0</span><span class="p">[</span><span class="s1">&#39;ta [deg]&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">%</span><span class="mi">360</span><span class="p">,</span> <span class="mi">315</span><span class="p">)</span></div>
    

<div class="viewcode-block" id="TestMission.test_scenario_7"><a class="viewcode-back" href="../tests.html#test_mission.TestMission.test_scenario_7">[docs]</a>    <span class="k">def</span> <span class="nf">test_scenario_7</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Multiple satellites from list, multiple instruments per satellite ; propagation, grid-coverage, data-metrics calculation, contact-finder (inter-satellite).</span>

<span class="sd">            Spacecraft #1 : No instruments.</span>
<span class="sd">            Spacecraft #2 : 1 instrument (Basic Sensor).</span>
<span class="sd">            Spacecraft #3 : 2 instruments (Passive Optical Scanner, SAR)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">mission_json_str</span> <span class="o">=</span> <span class="s1">&#39;{  &quot;epoch&quot;:{&quot;@type&quot;:&quot;GREGORIAN_UT1&quot;, &quot;year&quot;:2021, &quot;month&quot;:3, &quot;day&quot;:25, &quot;hour&quot;:15, &quot;minute&quot;:6, &quot;second&quot;:8}, </span><span class="se">\</span>
<span class="s1">                               &quot;duration&quot;: 0.1, </span><span class="se">\</span>
<span class="s1">                               &quot;spacecraft&quot;: [{ </span><span class="se">\</span>
<span class="s1">                                  &quot;@id&quot;: &quot;spc1&quot;, </span><span class="se">\</span>
<span class="s1">                                  &quot;spacecraftBus&quot;:{&quot;orientation&quot;:{&quot;referenceFrame&quot;: &quot;NADIR_POINTING&quot;, &quot;convention&quot;: &quot;REF_FRAME_ALIGNED&quot;} </span><span class="se">\</span>
<span class="s1">                                                  }, </span><span class="se">\</span>
<span class="s1">                                  &quot;orbitState&quot;: {&quot;date&quot;:{&quot;@type&quot;:&quot;GREGORIAN_UT1&quot;, &quot;year&quot;:2021, &quot;month&quot;:2, &quot;day&quot;:25, &quot;hour&quot;:6, &quot;minute&quot;:0, &quot;second&quot;:0}, </span><span class="se">\</span>
<span class="s1">                                                 &quot;state&quot;:{&quot;@type&quot;: &quot;KEPLERIAN_EARTH_CENTERED_INERTIAL&quot;, &quot;sma&quot;: 6878.137, &quot;ecc&quot;: 0.001, &quot;inc&quot;: 98, &quot;raan&quot;: 35, &quot;aop&quot;: 145, &quot;ta&quot;: -25} </span><span class="se">\</span>
<span class="s1">                                               } </span><span class="se">\</span>
<span class="s1">                                   }, </span><span class="se">\</span>
<span class="s1">                                   { </span><span class="se">\</span>
<span class="s1">                                    &quot;@id&quot;: &quot;spc2&quot;, </span><span class="se">\</span>
<span class="s1">                                    &quot;spacecraftBus&quot;:{&quot;orientation&quot;:{&quot;referenceFrame&quot;: &quot;NADIR_POINTING&quot;, &quot;convention&quot;: &quot;REF_FRAME_ALIGNED&quot;} </span><span class="se">\</span>
<span class="s1">                                                   }, </span><span class="se">\</span>
<span class="s1">                                    &quot;orbitState&quot;: {&quot;date&quot;:{&quot;@type&quot;:&quot;GREGORIAN_UT1&quot;, &quot;year&quot;:2021, &quot;month&quot;:2, &quot;day&quot;:25, &quot;hour&quot;:6, &quot;minute&quot;:0, &quot;second&quot;:0}, </span><span class="se">\</span>
<span class="s1">                                                  &quot;state&quot;:{&quot;@type&quot;: &quot;KEPLERIAN_EARTH_CENTERED_INERTIAL&quot;, &quot;sma&quot;: 6878.137, &quot;ecc&quot;: 0.001, &quot;inc&quot;: 98, &quot;raan&quot;: 35, &quot;aop&quot;: 145, &quot;ta&quot;: -35} </span><span class="se">\</span>
<span class="s1">                                                }, </span><span class="se">\</span>
<span class="s1">                                    &quot;instrument&quot;: { &quot;orientation&quot;: {&quot;referenceFrame&quot;: &quot;SC_BODY_FIXED&quot;, &quot;convention&quot;: &quot;REF_FRAME_ALIGNED&quot;}, </span><span class="se">\</span>
<span class="s1">                                                   &quot;fieldOfViewGeometry&quot;: {&quot;shape&quot;: &quot;rectangular&quot;, &quot;angleHeight&quot;:15, &quot;angleWidth&quot;:10 }, </span><span class="se">\</span>
<span class="s1">                                                   &quot;@id&quot;:&quot;bs&quot;, &quot;@type&quot;:&quot;Basic Sensor&quot; } </span><span class="se">\</span>
<span class="s1">                                    }, </span><span class="se">\</span>
<span class="s1">                                    { </span><span class="se">\</span>
<span class="s1">                                    &quot;@id&quot;: &quot;spc3&quot;, </span><span class="se">\</span>
<span class="s1">                                    &quot;spacecraftBus&quot;:{&quot;orientation&quot;:{&quot;referenceFrame&quot;: &quot;NADIR_POINTING&quot;, &quot;convention&quot;: &quot;REF_FRAME_ALIGNED&quot;} </span><span class="se">\</span>
<span class="s1">                                                   }, </span><span class="se">\</span>
<span class="s1">                                    &quot;orbitState&quot;: {&quot;date&quot;:{&quot;@type&quot;:&quot;GREGORIAN_UT1&quot;, &quot;year&quot;:2021, &quot;month&quot;:2, &quot;day&quot;:25, &quot;hour&quot;:6, &quot;minute&quot;:0, &quot;second&quot;:0}, </span><span class="se">\</span>
<span class="s1">                                                  &quot;state&quot;:{&quot;@type&quot;: &quot;KEPLERIAN_EARTH_CENTERED_INERTIAL&quot;, &quot;sma&quot;: 6878.137, &quot;ecc&quot;: 0.001, &quot;inc&quot;: 98, &quot;raan&quot;: 35, &quot;aop&quot;: 145, &quot;ta&quot;: -145} </span><span class="se">\</span>
<span class="s1">                                                }, </span><span class="se">\</span>
<span class="s1">                                    &quot;instrument&quot;: [{&quot;@type&quot;: &quot;Passive Optical Scanner&quot;, &quot;@id&quot;: &quot;opt1&quot;,</span><span class="se">\</span>
<span class="s1">                                                    &quot;fieldOfViewGeometry&quot;: { &quot;shape&quot;: &quot;RECTanGULAR&quot;, &quot;angleHeight&quot;: 0.628, &quot;angleWidth&quot;: 115.8 }, </span><span class="se">\</span>
<span class="s1">                                                    &quot;sceneFieldOfViewGeometry&quot;: { &quot;shape&quot;: &quot;RECTanGULAR&quot;, &quot;angleHeight&quot;: 5, &quot;angleWidth&quot;: 115.8 }, </span><span class="se">\</span>
<span class="s1">                                                    &quot;scanTechnique&quot;: &quot;WhiskBROOM&quot;, </span><span class="se">\</span>
<span class="s1">                                                    &quot;orientation&quot;: { &quot;referenceFrame&quot;: &quot;SC_BODY_FIXED&quot;, &quot;convention&quot;: &quot;SIDE_loOK&quot;, &quot;sideLookAngle&quot;: 0 }, </span><span class="se">\</span>
<span class="s1">                                                    &quot;numberDetectorRows&quot;: 256, &quot;numberDetectorCols&quot;: 1, </span><span class="se">\</span>
<span class="s1">                                                    &quot;detectorWidth&quot;: 30e-6, &quot;focalLength&quot;: 0.7, &quot;operatingWavelength&quot;: 4.2e-6, &quot;bandwidth&quot;: 1.9e-6, </span><span class="se">\</span>
<span class="s1">                                                    &quot;quantumEff&quot;: 0.5, &quot;targetBlackBodyTemp&quot;: 290, &quot;bitsPerPixel&quot;: 8, &quot;opticsSysEff&quot;: 0.75, </span><span class="se">\</span>
<span class="s1">                                                    &quot;numOfReadOutE&quot;: 25, &quot;apertureDia&quot;: 0.26, &quot;Fnum&quot;: 2.7, &quot;atmosLossModel&quot;: &quot;LOWTRAN7&quot; </span><span class="se">\</span>
<span class="s1">                                                   }, </span><span class="se">\</span>
<span class="s1">                                                   {&quot;@type&quot;: &quot;Synthetic Aperture Radar&quot;, &quot;@id&quot;: &quot;sar1&quot;, </span><span class="se">\</span>
<span class="s1">                                                    &quot;orientation&quot;: { &quot;convention&quot;: &quot;SIDE_LOOK&quot;, &quot;sideLookAngle&quot;: 20.5 }, </span><span class="se">\</span>
<span class="s1">                                                    &quot;antenna&quot;:{&quot;shape&quot;: &quot;RECTANGULAR&quot;, &quot;height&quot;: 10.7, &quot;width&quot;: 2.16, &quot;apertureEfficiency&quot;: 0.6, &quot;apertureExcitation&quot;: &quot;UNIFORM&quot;}, </span><span class="se">\</span>
<span class="s1">                                                    &quot;sceneFieldOfViewGeometry&quot;: {&quot;shape&quot;: &quot;RECTANGULAR&quot;, &quot;angleHeight&quot;:5, &quot;angleWidth&quot;:6.233630110575892}, </span><span class="se">\</span>
<span class="s1">                                                    &quot;pulseWidth&quot;: 33.4e-6, </span><span class="se">\</span>
<span class="s1">                                                    &quot;operatingFrequency&quot;: 1.2757e9, &quot;peakTransmitPower&quot;: 1000, &quot;chirpBandwidth&quot;: 19e6, </span><span class="se">\</span>
<span class="s1">                                                    &quot;minimumPRF&quot;: 1463, &quot;maximumPRF&quot;: 1686, &quot;radarLoss&quot;: 3.5, &quot;systemNoiseFigure&quot;: 5.11 </span><span class="se">\</span>
<span class="s1">                                                    }] </span><span class="se">\</span>
<span class="s1">                                    }], </span><span class="se">\</span>
<span class="s1">                                &quot;grid&quot;: [{&quot;@type&quot;: &quot;autogrid&quot;, &quot;@id&quot;: 1, &quot;latUpper&quot;:2, &quot;latLower&quot;:0, &quot;lonUpper&quot;:180, &quot;lonLower&quot;:-180, &quot;gridRes&quot;: 1}, {&quot;@type&quot;: &quot;autogrid&quot;, &quot;@id&quot;: 2, &quot;latUpper&quot;:22, &quot;latLower&quot;:20, &quot;lonUpper&quot;:180, &quot;lonLower&quot;:-180, &quot;gridRes&quot;: 1}], </span><span class="se">\</span>
<span class="s1">                                &quot;settings&quot;: {&quot;outDir&quot;: &quot;temp/&quot;, &quot;coverageType&quot;: &quot;GRID COVERAGE&quot;, &quot;midAccessOnly&quot;: true} </span><span class="se">\</span>
<span class="s1">                            }&#39;</span>

        <span class="n">mission</span> <span class="o">=</span> <span class="n">Mission</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">mission_json_str</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">mission</span><span class="o">.</span><span class="n">spacecraft</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span>        

        <span class="n">out_info</span> <span class="o">=</span> <span class="n">mission</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span></div>
<span class="w">    </span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    def test_scenario_x(self):</span>
<span class="sd">        &quot;&quot;&quot; Hydrology paper &quot;&quot;&quot;</span>
<span class="sd">        mission_json_str = &#39;{  &quot;epoch&quot;:{&quot;@type&quot;:&quot;GREGORIAN_UT1&quot;, &quot;year&quot;:2021, &quot;month&quot;:1, &quot;day&quot;:27, &quot;hour&quot;:18, &quot;minute&quot;:43, &quot;second&quot;:5}, \</span>
<span class="sd">                                &quot;duration&quot;: 3, \</span>
<span class="sd">                                &quot;constellation&quot;: { &quot;@type&quot;: &quot;Walker Delta Constellation&quot;, \</span>
<span class="sd">                                        &quot;date&quot;:{&quot;@type&quot;:&quot;GREGORIAN_UT1&quot;, &quot;year&quot;:2021, &quot;month&quot;:1, &quot;day&quot;:27, &quot;hour&quot;:18, &quot;minute&quot;:43, &quot;second&quot;:5}, \</span>
<span class="sd">                                        &quot;numberSatellites&quot;: 8, \</span>
<span class="sd">                                        &quot;numberPlanes&quot;: 1, \</span>
<span class="sd">                                        &quot;relativeSpacing&quot;: 1, \</span>
<span class="sd">                                        &quot;alt&quot;: 705, \</span>
<span class="sd">                                        &quot;ecc&quot;: 0.0001, \</span>
<span class="sd">                                        &quot;inc&quot;: 98.2, \</span>
<span class="sd">                                        &quot;aop&quot;: 302.6503 \</span>
<span class="sd">                                    }, \</span>
<span class="sd">                                &quot;groundStation&quot;:{&quot;name&quot;: &quot;AtMetro&quot;, &quot;latitude&quot;: 33, &quot;longitude&quot;: -98, &quot;altitude&quot;:0, &quot;minimumElevation&quot;:35}, \</span>
<span class="sd">                                &quot;propagator&quot;: {&quot;@type&quot;: &quot;J2 ANALYTICAL PROPAGATOR&quot;, &quot;stepSize&quot;: 4}, \</span>
<span class="sd">                                &quot;settings&quot;: {&quot;outDir&quot;: &quot;temp/&quot;} \</span>
<span class="sd">                            }&#39;</span>
<span class="sd">        mission = Mission.from_json(mission_json_str)</span>
<span class="sd">        out_info = mission.execute()</span>
<span class="sd">    &#39;&#39;&#39;</span></div>


        
</pre></div>

           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, BAERI.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>