

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>orbitpy.datametricscalculator &mdash; OrbitPy 0.1 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> OrbitPy
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../user_guide.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api_reference.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../miscellaneous.html">Miscellaneous</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">OrbitPy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Module code</a> &raquo;</li>
        
      <li>orbitpy.datametricscalculator</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for orbitpy.datametricscalculator</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot; </span>
<span class="sd">.. module:: datametricscalculator</span>

<span class="sd">:synopsis: *Module providing classes and functions to handle observation data-metric calculations by invoking the :code:`instrupy` package.*</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>
<span class="kn">import</span> <span class="nn">csv</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>


<span class="kn">from</span> <span class="nn">instrupy.util</span> <span class="kn">import</span> <span class="n">Entity</span>
<span class="kn">import</span> <span class="nn">orbitpy.util</span>
<span class="kn">from</span> <span class="nn">orbitpy.util</span> <span class="kn">import</span> <span class="n">Spacecraft</span><span class="p">,</span> <span class="n">OutputInfoUtility</span>

<span class="n">AccessFileInfo</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s2">&quot;AccessFileInfo&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;instru_id&quot;</span><span class="p">,</span> <span class="s2">&quot;mode_id&quot;</span><span class="p">,</span> <span class="s2">&quot;access_filepath&quot;</span><span class="p">])</span>
<span class="sd">&quot;&quot;&quot; Function returns a namedtuple class to store the parameters (``instru_id``, ``mode_id``, ``access_filepath``).</span>
<span class="sd">    The ``instru_id`` and ``mode_id`` specify the instrument-mode and the ``access_filepath`` specifies the </span>
<span class="sd">    location of the corresponding access-data (i.e. the times and locations of access by the instrument-mode).</span>
<span class="sd">&quot;&quot;&quot;</span>
<div class="viewcode-block" id="DataMetricsCalculator"><a class="viewcode-back" href="../../generated/orbitpy.datametricscalculator.DataMetricsCalculator.html#orbitpy.datametricscalculator.DataMetricsCalculator">[docs]</a><span class="k">class</span> <span class="nc">DataMetricsCalculator</span><span class="p">(</span><span class="n">Entity</span><span class="p">):</span> 
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Class to handle computation of observational data metrics by invoking the :code:`instrupy` package.</span>

<span class="sd">    :ivar spacecraft: Spacecraft for which the coverage calculation is to be performed.</span>
<span class="sd">    :vartype spacecraft: :class:`orbitpy.util.Spacecraft`</span>

<span class="sd">    :ivar state_cart_file: File name with path of the (input) file in which the orbit states in CARTESIAN_EARTH_CENTERED_INERTIAL are available. </span>
<span class="sd">                           Refer to :class:`orbitpy.propagator.J2AnalyticalPropagator.execute` for description of the file data format.</span>
<span class="sd">    :vartype state_cart_file: str</span>

<span class="sd">    :ivar access_file_info: List of namedtuples (sensor-id, mode-id, access-file path (with name)). </span>
<span class="sd">                            </span>
<span class="sd">                            The namedtuple object has the name as ``AccessFileInfo`` and fields as ``instru_id``, ``mode_id`` and ``access_filepath``.</span>
<span class="sd">                            The access-file indicated in each tuple corresponds to the sensor-id and mode-id of the tuple. </span>
<span class="sd">                            The list maybe incomplete, i.e. the access-data of *all* the possible instruments, modes of the spacecraft</span>
<span class="sd">                            may not be available. Use the ``add_access_file_info(.)`` function to add a new tuple to the list as they become available.</span>
<span class="sd">                            </span>
<span class="sd">                            Refer to the :class:`orbitpy.coveragecalculator` module for the format of the access-files. </span>
<span class="sd">                            Note that different coverage-calculators have different access-file formats.</span>
<span class="sd">    :vartype access_file_info: list, :class:`orbitpy.datametricscalculator.AccessFileInfo`</span>

<span class="sd">    :ivar _id: Unique identifier.</span>
<span class="sd">    :vartype _id: str</span>

<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="DataMetricsCalculator.__init__"><a class="viewcode-back" href="../../generated/orbitpy.datametricscalculator.DataMetricsCalculator.html#orbitpy.datametricscalculator.DataMetricsCalculator.__init__">[docs]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">spacecraft</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">state_cart_file</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">access_file_info</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">_id</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">spacecraft</span> <span class="o">=</span> <span class="n">spacecraft</span> <span class="k">if</span> <span class="n">spacecraft</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">spacecraft</span><span class="p">,</span> <span class="n">Spacecraft</span><span class="p">)</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">state_cart_file</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">state_cart_file</span><span class="p">)</span> <span class="k">if</span> <span class="n">state_cart_file</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">access_file_info</span> <span class="o">=</span> <span class="p">[]</span> <span class="c1"># empty list        </span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">access_file_info</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
             <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">AccessFileInfo</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">access_file_info</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">access_file_info</span> <span class="o">=</span> <span class="n">access_file_info</span>
        <span class="k">elif</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">access_file_info</span><span class="p">,</span> <span class="n">AccessFileInfo</span><span class="p">)):</span> <span class="c1"># make into list if not list</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">access_file_info</span> <span class="o">=</span> <span class="p">[</span><span class="n">access_file_info</span><span class="p">]</span>

        <span class="nb">super</span><span class="p">(</span><span class="n">DataMetricsCalculator</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">_id</span><span class="p">,</span> <span class="s2">&quot;Data Metrics Calculator&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="DataMetricsCalculator.add_access_file_info"><a class="viewcode-back" href="../../generated/orbitpy.datametricscalculator.DataMetricsCalculator.html#orbitpy.datametricscalculator.DataMetricsCalculator.add_access_file_info">[docs]</a>    <span class="k">def</span> <span class="nf">add_access_file_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">acc_info</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Add access-info of a specific instrument, mode.</span>
<span class="sd">        # TODO: Checks to see if the sensor-id, mode-id is exists for the spacecraft. Check for uniqueness before adding.</span>

<span class="sd">        :param acc_info: Namedtuple indicating path of access data file for a particular instrument, mode.</span>
<span class="sd">        :paramtype: :class:`orbitpy.datametricscalculator.AccessFileInfo`</span>

<span class="sd">        :return: None</span>
<span class="sd">        :rtype: None</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">acc_info</span><span class="p">,</span> <span class="n">AccessFileInfo</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">access_file_info</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">acc_info</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Please input the namedtuple object AccessFileInfo defined in the datametricscalculator module.&quot;</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="DataMetricsCalculator.from_dict"><a class="viewcode-back" href="../../generated/orbitpy.datametricscalculator.DataMetricsCalculator.html#orbitpy.datametricscalculator.DataMetricsCalculator.from_dict">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">from_dict</span><span class="p">(</span><span class="n">d</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Parses an ``DataMetricsCalculator`` object from a normalized JSON dictionary.</span>
<span class="sd">        </span>
<span class="sd">        .. todo:: Add feature to test that the specified accessFileInfo parameters (instruId and modeId) are valid (i.e. the instrument is available in the spacecraft).</span>
<span class="sd">        </span>
<span class="sd">        :param d: Dictionary with the ``DataMetricsCalculator`` specifications.</span>

<span class="sd">                Following keys are to be specified.</span>
<span class="sd">                </span>
<span class="sd">                * &quot;spacecraft&quot;:             (dict) Refer to :class:`orbitpy.util.Spacecraft.from_dict`</span>
<span class="sd">                * &quot;cartesianStateFilePath&quot;: (str) File path (with file name) to the file with the propagated spacecraft states. The states must be in CARTESIAN_EARTH_CENTERED_INERTIAL.</span>
<span class="sd">                                            Refer to :class:`orbitpy.propagator.J2AnalyticalPropagator.execute` for description of the data format.</span>
<span class="sd">                * &quot;accessFileInfo&quot;:         (list, dict). List of dictionaries, where each dictionary contains the following keys: (1) instruId (str or int), (2) modeId (str or int)</span>
<span class="sd">                                            and (3) accessFilePath (str). </span>
<span class="sd">                * &quot;@id&quot;:                    (str or int) Unique identifier of the datametrics calculator object.</span>

<span class="sd">        :paramtype d: dict</span>

<span class="sd">        :return: ``DataMetricsCalculator`` object.</span>
<span class="sd">        :rtype: :class:`orbitpy.datametricscalculator.DataMetricsCalculator`</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">spc_dict</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;spacecraft&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">afi_dict</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;accessFileInfo&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">afi</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">afi_dict</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span> <span class="c1"># list of dictionaries</span>
            <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">afi_dict</span><span class="p">:</span>
                <span class="n">afi</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">AccessFileInfo</span><span class="p">(</span><span class="n">instru_id</span><span class="o">=</span><span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;instruId&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span> <span class="n">mode_id</span><span class="o">=</span><span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;modeId&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span> <span class="n">access_filepath</span><span class="o">=</span><span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;accessFilePath&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)))</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">afi_dict</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span> <span class="c1"># single dictionary</span>
            <span class="n">afi</span> <span class="o">=</span> <span class="p">[</span><span class="n">AccessFileInfo</span><span class="p">(</span><span class="n">instru_id</span><span class="o">=</span><span class="n">afi_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;instruId&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span> <span class="n">mode_id</span><span class="o">=</span><span class="n">afi_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;modeId&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span> <span class="n">access_filepath</span><span class="o">=</span><span class="n">afi_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;accessFilePath&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">))]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">afi</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">DataMetricsCalculator</span><span class="p">(</span><span class="n">spacecraft</span> <span class="o">=</span> <span class="n">Spacecraft</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">spc_dict</span><span class="p">)</span> <span class="k">if</span> <span class="n">spc_dict</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span> 
                                     <span class="n">state_cart_file</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;cartesianStateFilePath&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
                                     <span class="n">access_file_info</span> <span class="o">=</span> <span class="n">afi</span><span class="p">,</span>
                                     <span class="n">_id</span>  <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;@id&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span></div>

<div class="viewcode-block" id="DataMetricsCalculator.to_dict"><a class="viewcode-back" href="../../generated/orbitpy.datametricscalculator.DataMetricsCalculator.html#orbitpy.datametricscalculator.DataMetricsCalculator.to_dict">[docs]</a>    <span class="k">def</span> <span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Translate the ``DataMetricsCalculator`` object to a Python dictionary such that it can be uniquely reconstructed back from the dictionary.</span>
<span class="sd">        </span>
<span class="sd">        :return: ``DataMetricsCalculator`` object as python dictionary</span>
<span class="sd">        :rtype: dict</span>
<span class="sd">        </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">access_file_info_dict</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">afi</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">access_file_info</span><span class="p">:</span>
            <span class="n">access_file_info_dict</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&quot;instruId&quot;</span><span class="p">:</span> <span class="n">afi</span><span class="o">.</span><span class="n">instru_id</span><span class="p">,</span> <span class="s2">&quot;modeId&quot;</span><span class="p">:</span> <span class="n">afi</span><span class="o">.</span><span class="n">mode_id</span><span class="p">,</span> <span class="s2">&quot;accessFilePath&quot;</span><span class="p">:</span> <span class="n">afi</span><span class="o">.</span><span class="n">access_filepath</span><span class="p">})</span>
        <span class="k">return</span> <span class="nb">dict</span><span class="p">({</span><span class="s2">&quot;@type&quot;</span><span class="p">:</span> <span class="s2">&quot;Data Metrics Calculator&quot;</span><span class="p">,</span>
                     <span class="s2">&quot;spacecraft&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_dict</span><span class="p">,</span>
                     <span class="s2">&quot;accessFileInfo&quot;</span> <span class="p">:</span> <span class="n">access_file_info_dict</span><span class="p">,</span>
                     <span class="s2">&quot;cartesianStateFilePath&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">state_cart_file</span><span class="p">,</span>
                     <span class="s2">&quot;@id&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">})</span></div>

<div class="viewcode-block" id="DataMetricsCalculator.search_access_file_info"><a class="viewcode-back" href="../../generated/orbitpy.datametricscalculator.DataMetricsCalculator.html#orbitpy.datametricscalculator.DataMetricsCalculator.search_access_file_info">[docs]</a>    <span class="k">def</span> <span class="nf">search_access_file_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instru_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">mode_id</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Search the list of namedtuples (of the instance ``access_file_info`` attribute) and find tuple with matching sensor-id and mode-id.</span>

<span class="sd">        :param instru_id: Instrument identifier. If ``None``, the first tuple in the list of the instance ``access_file_info`` attribute is returned.</span>
<span class="sd">        :paramtype instru_id: str (or) int</span>

<span class="sd">        :param mode_id: Mode identifier. If ``None``, the first tuple in the list of the instance ``access_file_info`` attribute with the matching instru_id is returned.</span>
<span class="sd">        :paramtype mode_id: str (or) int</span>

<span class="sd">        :return: (Single) Tuple of (instrument id, mode id, access filepath), such that the instrument-id and </span>
<span class="sd">                 the mode-id match the input identifiers (instru_id, mode_id).</span>
<span class="sd">        :rtype: namedtuple, (str or int, str or int, str ) </span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">access_file_info</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">access_file_info</span> <span class="o">!=</span> <span class="p">[]:</span>
            <span class="k">if</span> <span class="n">instru_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">access_file_info</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">idx</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">for</span> <span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">access_file_info</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">a</span> <span class="o">==</span> <span class="n">instru_id</span> <span class="ow">and</span> <span class="n">mode_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">access_file_info</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
                <span class="k">elif</span> <span class="n">a</span> <span class="o">==</span> <span class="n">instru_id</span> <span class="ow">and</span> <span class="n">b</span> <span class="o">==</span> <span class="n">mode_id</span><span class="p">:</span>
                    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">access_file_info</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
                <span class="n">idx</span> <span class="o">=</span> <span class="n">idx</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Entry corresponding to the input instrument-id and mode-id was not found.&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Access file info (i.e. the instance access_file_info attribute) is empty.&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="DataMetricsCalculator.execute"><a class="viewcode-back" href="../../generated/orbitpy.datametricscalculator.DataMetricsCalculator.html#orbitpy.datametricscalculator.DataMetricsCalculator.execute">[docs]</a>    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">out_datametrics_fl</span><span class="p">,</span> <span class="n">instru_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">mode_id</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Execute data-metrics calculation for the specified instrument, mode in the spacecraft.</span>
<span class="sd">            This function iterates over the access file corresponding to the specified instrument, mode and calculates the data-metrics </span>
<span class="sd">            for each access. The satellite state data is extracted from the satellite state file (CARTESIAN_EARTH_CENTERED_INERTIAL) corresponding </span>
<span class="sd">            to the access-time of an access event. The target location at the access-time is available in the access data file.</span>
<span class="sd">        </span>
<span class="sd">        :param out_datametrics_fl: Filepath (with name) of the output file in which the datametrics is to be written.</span>

<span class="sd">                The format of the output data file is as follows:</span>

<span class="sd">                *  The first row contains the coverage calculation type.</span>
<span class="sd">                *  The second row containing the mission epoch in Julian Day UT1. The time (index) in the state data is referenced to this epoch.</span>
<span class="sd">                *  The third row contains the time-step size in seconds. </span>
<span class="sd">                *  The fourth row contains the duration (in days) for which the data-metrics calculation is done.</span>
<span class="sd">                *  The fifth row contains the columns headers and the sixth row onwards contains the corresponding data. </span>

<span class="sd">                Note that time associated with a row is:  ``time = epoch (in JDUT1) + time-index * time-step-size (in secs) * (1/86400)`` </span>

<span class="sd">                Description of the csv data is given below:</span>

<span class="sd">                .. csv-table:: Observation data metrics description</span>
<span class="sd">                    :header: Column, Data type, Units, Description</span>
<span class="sd">                    :widths: 10,10,10,30</span>

<span class="sd">                    time index, int, , Access time-index.</span>
<span class="sd">                    GP index, int, , Grid-point index. </span>
<span class="sd">                    pnt-opt index, int, , Pointing options index.</span>
<span class="sd">                    lat [deg], float, degrees, Latitude corresponding to the GP index/ pnt-opt index.</span>
<span class="sd">                    lon [deg], float, degrees, Longitude corresponding to the GP index/ pnt-opt index.</span>

<span class="sd">                Other columns containing the data-metrics specific to the instrument type are present. Refer to the docs of the corresponding instrument type (in ``instrupy`` package)</span>
<span class="sd">                for description of the evaluated data-metrics.</span>

<span class="sd">        :paramtype out_datametrics_fl: str</span>

<span class="sd">        :param instru_id: Instrument identifier. If ``None``, the first tuple in the list of the instance ``access_file_info`` attribute is considered.</span>
<span class="sd">        :paramtype instru_id: str (or) int</span>

<span class="sd">        :param mode_id: Mode identifier. If ``None``, the first tuple in the list of the instance ``access_file_info`` attribute is considered.</span>
<span class="sd">        :paramtype mode_id: str (or) int</span>

<span class="sd">        :return: Output info.</span>
<span class="sd">        :rtype: :class:`orbitpy.datametricscalculator.DataMetricsOutputInfo`</span>
<span class="sd">        </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># get instrument corresponding to the input id</span>
        <span class="n">instru</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">spacecraft</span><span class="o">.</span><span class="n">get_instrument</span><span class="p">(</span><span class="n">instru_id</span><span class="p">)</span>

        <span class="c1"># read in the satellite states (CARTESIAN_EARTH_CENTERED_INERTIAL) and auxillary info</span>
        <span class="p">(</span><span class="n">epoch_JDUT1</span><span class="p">,</span> <span class="n">step_size</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span> <span class="o">=</span> <span class="n">orbitpy</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">extract_auxillary_info_from_state_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">state_cart_file</span><span class="p">)</span>
        <span class="n">sat_state_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">state_cart_file</span><span class="p">,</span> <span class="n">skiprows</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
        <span class="n">sat_state_df</span> <span class="o">=</span> <span class="n">sat_state_df</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;time index&#39;</span><span class="p">)</span>

        <span class="c1"># get the access file corresponding to the specified instrument, mode</span>
        <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">acc_filepath</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">search_access_file_info</span><span class="p">(</span><span class="n">instru_id</span><span class="p">,</span> <span class="n">mode_id</span><span class="p">)</span>
        <span class="n">access_info_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">acc_filepath</span><span class="p">,</span> <span class="n">skiprows</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span> <span class="c1"># read the access times </span>
        <span class="c1"># the input instru_id, mode_id may be None, so get the sensor, mode ids.</span>
        <span class="n">instru_id</span> <span class="o">=</span> <span class="n">x</span>
        <span class="n">mode_id</span> <span class="o">=</span> <span class="n">y</span>
        
        <span class="c1"># copy info rows from the original access file</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">acc_filepath</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">head</span> <span class="o">=</span> <span class="p">[</span><span class="nb">next</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]]</span> 

        <span class="c1"># erase any old file and create new one</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">out_datametrics_fl</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">r</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">head</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">idx</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
                    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;Datametrics file based on &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">r</span><span class="p">))</span>    
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">r</span><span class="p">))</span>             
        
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">out_datametrics_fl</span><span class="p">,</span><span class="s1">&#39;a+&#39;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">w</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">writer</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

            <span class="c1"># Iterate over all logged access events</span>
            <span class="n">header_written_flag</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="n">idx</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">access_info_df</span><span class="p">)):</span>       

                <span class="n">time_i</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">access_info_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">][</span><span class="s2">&quot;time index&quot;</span><span class="p">])</span>   

                <span class="k">if</span> <span class="s2">&quot;GP index&quot;</span> <span class="ow">in</span> <span class="n">access_info_df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
                    <span class="n">gp_i</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">access_info_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">][</span><span class="s2">&quot;GP index&quot;</span><span class="p">])</span> <span class="k">if</span> <span class="n">pd</span><span class="o">.</span><span class="n">notna</span><span class="p">(</span><span class="n">access_info_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">][</span><span class="s2">&quot;GP index&quot;</span><span class="p">])</span> <span class="k">else</span> <span class="kc">None</span>   
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">gp_i</span> <span class="o">=</span> <span class="kc">None</span>

                <span class="k">if</span> <span class="s2">&quot;pnt-opt index&quot;</span> <span class="ow">in</span> <span class="n">access_info_df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
                    <span class="n">pnt_opt_i</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">access_info_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">][</span><span class="s2">&quot;pnt-opt index&quot;</span><span class="p">])</span> <span class="k">if</span> <span class="n">pd</span><span class="o">.</span><span class="n">notna</span><span class="p">(</span><span class="n">access_info_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">][</span><span class="s2">&quot;pnt-opt index&quot;</span><span class="p">])</span> <span class="k">else</span> <span class="kc">None</span> 
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">pnt_opt_i</span> <span class="o">=</span> <span class="kc">None</span>
                
                <span class="c1"># find the target coordinates. </span>
                <span class="n">target_coords</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
                <span class="n">target_coords</span><span class="p">[</span><span class="s2">&quot;lat [deg]&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">access_info_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">][</span><span class="s2">&quot;lat [deg]&quot;</span><span class="p">])</span>
                <span class="n">target_coords</span><span class="p">[</span><span class="s2">&quot;lon [deg]&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">access_info_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">][</span><span class="s2">&quot;lon [deg]&quot;</span><span class="p">])</span>   

                <span class="c1"># TODO: TEMPORARY </span>
                <span class="c1">#if not (target_coords[&quot;lat [deg]&quot;] &gt; 35 and target_coords[&quot;lat [deg]&quot;] &lt; 45 and target_coords[&quot;lon [deg]&quot;] &gt; 280 and target_coords[&quot;lon [deg]&quot;] &lt; 290):</span>
                <span class="c1">#   continue           </span>
                <span class="c1"># END TEMPORARY</span>
                
                <span class="n">sc_orbit_state</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
                <span class="n">sc_orbit_state</span><span class="p">[</span><span class="s2">&quot;time [JDUT1]&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">epoch_JDUT1</span> <span class="o">+</span> <span class="n">time_i</span><span class="o">*</span><span class="n">step_size</span><span class="o">*</span><span class="mf">1.0</span><span class="o">/</span><span class="mf">86400.0</span> 
                <span class="n">sc_orbit_state</span><span class="p">[</span><span class="s2">&quot;x [km]&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sat_state_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">time_i</span><span class="p">][</span><span class="s2">&quot;x [km]&quot;</span><span class="p">]</span> 
                <span class="n">sc_orbit_state</span><span class="p">[</span><span class="s2">&quot;y [km]&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sat_state_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">time_i</span><span class="p">][</span><span class="s2">&quot;y [km]&quot;</span><span class="p">]</span> 
                <span class="n">sc_orbit_state</span><span class="p">[</span><span class="s2">&quot;z [km]&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sat_state_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">time_i</span><span class="p">][</span><span class="s2">&quot;z [km]&quot;</span><span class="p">]</span> 
                <span class="n">sc_orbit_state</span><span class="p">[</span><span class="s2">&quot;vx [km/s]&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sat_state_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">time_i</span><span class="p">][</span><span class="s2">&quot;vx [km/s]&quot;</span><span class="p">]</span> 
                <span class="n">sc_orbit_state</span><span class="p">[</span><span class="s2">&quot;vy [km/s]&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sat_state_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">time_i</span><span class="p">][</span><span class="s2">&quot;vy [km/s]&quot;</span><span class="p">]</span> 
                <span class="n">sc_orbit_state</span><span class="p">[</span><span class="s2">&quot;vz [km/s]&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sat_state_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">time_i</span><span class="p">][</span><span class="s2">&quot;vz [km/s]&quot;</span><span class="p">]</span> 

                <span class="n">obsv_metrics</span> <span class="o">=</span> <span class="n">instru</span><span class="o">.</span><span class="n">calc_data_metrics</span><span class="p">(</span><span class="n">mode_id</span><span class="o">=</span><span class="n">mode_id</span><span class="p">,</span> <span class="n">sc_orbit_state</span><span class="o">=</span><span class="n">sc_orbit_state</span><span class="p">,</span> <span class="n">target_coords</span><span class="o">=</span><span class="n">target_coords</span><span class="p">)</span> <span class="c1"># calculate the data metrics specific to the instrument type</span>
                <span class="n">_v</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">({</span><span class="s1">&#39;time index&#39;</span><span class="p">:</span><span class="n">time_i</span><span class="p">,</span> <span class="s1">&#39;GP index&#39;</span><span class="p">:</span> <span class="n">gp_i</span><span class="p">,</span> <span class="s1">&#39;pnt-opt index&#39;</span><span class="p">:</span> <span class="n">pnt_opt_i</span><span class="p">,</span> <span class="s1">&#39;lat [deg]&#39;</span><span class="p">:</span><span class="nb">round</span><span class="p">(</span><span class="n">target_coords</span><span class="p">[</span><span class="s2">&quot;lat [deg]&quot;</span><span class="p">],</span><span class="mi">3</span><span class="p">),</span> <span class="s1">&#39;lon [deg]&#39;</span><span class="p">:</span><span class="nb">round</span><span class="p">(</span><span class="n">target_coords</span><span class="p">[</span><span class="s2">&quot;lon [deg]&quot;</span><span class="p">],</span><span class="mi">3</span><span class="p">)},</span> <span class="o">**</span><span class="n">obsv_metrics</span><span class="p">)</span>
                
                <span class="k">if</span> <span class="n">header_written_flag</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
                    <span class="n">w</span><span class="o">.</span><span class="n">writerow</span><span class="p">(</span><span class="n">_v</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>    
                    <span class="n">header_written_flag</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="n">w</span><span class="o">.</span><span class="n">writerow</span><span class="p">(</span><span class="n">_v</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
                <span class="n">idx</span> <span class="o">=</span> <span class="n">idx</span> <span class="o">+</span> <span class="mi">1</span>
        
        <span class="k">return</span> <span class="n">DataMetricsOutputInfo</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span><span class="s2">&quot;spacecraftId&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">spacecraft</span><span class="o">.</span><span class="n">_id</span><span class="p">,</span>
                                                <span class="s2">&quot;instruId&quot;</span><span class="p">:</span> <span class="n">instru_id</span><span class="p">,</span>
                                                <span class="s2">&quot;modeId&quot;</span><span class="p">:</span> <span class="n">mode_id</span><span class="p">,</span>
                                                <span class="s2">&quot;accessFile&quot;</span><span class="p">:</span> <span class="n">acc_filepath</span><span class="p">,</span>
                                                <span class="s2">&quot;dataMetricsFile&quot;</span><span class="p">:</span> <span class="n">out_datametrics_fl</span><span class="p">,</span>
                                                <span class="s2">&quot;startDate&quot;</span><span class="p">:</span> <span class="n">epoch_JDUT1</span><span class="p">,</span>
                                                <span class="s2">&quot;duration&quot;</span><span class="p">:</span> <span class="n">duration</span><span class="p">,</span>
                                                <span class="s2">&quot;@id&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">})</span></div></div>

<div class="viewcode-block" id="DataMetricsOutputInfo"><a class="viewcode-back" href="../../generated/orbitpy.datametricscalculator.DataMetricsOutputInfo.html#orbitpy.datametricscalculator.DataMetricsOutputInfo">[docs]</a><span class="k">class</span> <span class="nc">DataMetricsOutputInfo</span><span class="p">(</span><span class="n">Entity</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Class to hold information about the results of the data-metrics calculation. An object of this class is returned upon the execution</span>
<span class="sd">        of the data metrics calculator.</span>
<span class="sd">    </span>
<span class="sd">    :ivar spacecraftId: Spacecraft identifier.</span>
<span class="sd">    :vartype spacecraftId: str or int</span>

<span class="sd">    :param instruId: Sensor identifier.</span>
<span class="sd">    :paramtype instruId: str (or) int</span>

<span class="sd">    :param modeId: Mode identifier.</span>
<span class="sd">    :paramtype modeId: str (or) int </span>

<span class="sd">    :ivar accessFile: File (filename with path) where the access data is saved.</span>
<span class="sd">    :vartype accessFile: str</span>

<span class="sd">    :ivar dataMetricsFile: File (filename with path) where the data-metrics data is saved.</span>
<span class="sd">    :vartype dataMetricsFile: str</span>

<span class="sd">    :ivar startDate: Time start for the data-metrics calculation in Julian Date UT1.</span>
<span class="sd">    :vartype startDate: float</span>

<span class="sd">    :ivar duration: Time duration over which data-metrics was calculated in days.</span>
<span class="sd">    :vartype duration: float</span>

<span class="sd">    :ivar _id: Unique identifier.</span>
<span class="sd">    :vartype _id: str or int</span>

<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="DataMetricsOutputInfo.__init__"><a class="viewcode-back" href="../../generated/orbitpy.datametricscalculator.DataMetricsOutputInfo.html#orbitpy.datametricscalculator.DataMetricsOutputInfo.__init__">[docs]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">spacecraftId</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">instruId</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">modeId</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">accessFile</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">dataMetricsFile</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="n">startDate</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">_id</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">spacecraftId</span> <span class="o">=</span> <span class="n">spacecraftId</span> <span class="k">if</span> <span class="n">spacecraftId</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">instruId</span> <span class="o">=</span> <span class="n">instruId</span> <span class="k">if</span> <span class="n">instruId</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">modeId</span> <span class="o">=</span> <span class="n">modeId</span> <span class="k">if</span> <span class="n">modeId</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">accessFile</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">accessFile</span><span class="p">)</span> <span class="k">if</span> <span class="n">accessFile</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dataMetricsFile</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">dataMetricsFile</span><span class="p">)</span> <span class="k">if</span> <span class="n">dataMetricsFile</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">startDate</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">startDate</span><span class="p">)</span> <span class="k">if</span> <span class="n">startDate</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">duration</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">duration</span><span class="p">)</span> <span class="k">if</span> <span class="n">duration</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>

        <span class="nb">super</span><span class="p">(</span><span class="n">DataMetricsOutputInfo</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">_id</span><span class="p">,</span> <span class="n">OutputInfoUtility</span><span class="o">.</span><span class="n">OutputInfoType</span><span class="o">.</span><span class="n">DataMetricsOutputInfo</span><span class="o">.</span><span class="n">value</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="DataMetricsOutputInfo.from_dict"><a class="viewcode-back" href="../../generated/orbitpy.datametricscalculator.DataMetricsOutputInfo.html#orbitpy.datametricscalculator.DataMetricsOutputInfo.from_dict">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">from_dict</span><span class="p">(</span><span class="n">d</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Parses an ``DataMetricsOutputInfo`` object from a normalized JSON dictionary.</span>
<span class="sd">        </span>
<span class="sd">        :param d: Dictionary with the ``DataMetricsOutputInfo`` attributes.</span>
<span class="sd">        :paramtype d: dict</span>

<span class="sd">        :return: ``DataMetricsOutputInfo`` object.</span>
<span class="sd">        :rtype: :class:`orbitpy.datametricscalculator.DataMetricsOutputInfo`</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">DataMetricsOutputInfo</span><span class="p">(</span> <span class="n">spacecraftId</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;spacecraftId&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
                                      <span class="n">instruId</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;instruId&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
                                      <span class="n">modeId</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;modeId&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
                                      <span class="n">accessFile</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;accessFile&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
                                      <span class="n">dataMetricsFile</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;dataMetricsFile&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
                                      <span class="n">startDate</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;startDate&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
                                      <span class="n">duration</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;duration&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
                                      <span class="n">_id</span>  <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;@id&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span></div>

<div class="viewcode-block" id="DataMetricsOutputInfo.to_dict"><a class="viewcode-back" href="../../generated/orbitpy.datametricscalculator.DataMetricsOutputInfo.html#orbitpy.datametricscalculator.DataMetricsOutputInfo.to_dict">[docs]</a>    <span class="k">def</span> <span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Translate the ``DataMetricsOutputInfo`` object to a Python dictionary such that it can be uniquely reconstructed back from the dictionary.</span>
<span class="sd">        </span>
<span class="sd">        :return: ``DataMetricsOutputInfo`` object as python dictionary</span>
<span class="sd">        :rtype: dict</span>
<span class="sd">        </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">dict</span><span class="p">({</span><span class="s2">&quot;@type&quot;</span><span class="p">:</span> <span class="n">OutputInfoUtility</span><span class="o">.</span><span class="n">OutputInfoType</span><span class="o">.</span><span class="n">DataMetricsOutputInfo</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                     <span class="s2">&quot;spacecraftId&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">spacecraftId</span><span class="p">,</span>
                     <span class="s2">&quot;instruId&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">instruId</span><span class="p">,</span>
                     <span class="s2">&quot;modeId&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">modeId</span><span class="p">,</span>
                     <span class="s2">&quot;accessFile&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">accessFile</span><span class="p">,</span>
                     <span class="s2">&quot;dataMetricsFile&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">dataMetricsFile</span><span class="p">,</span>
                     <span class="s2">&quot;startDate&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">startDate</span><span class="p">,</span>
                     <span class="s2">&quot;duration&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">duration</span><span class="p">,</span>
                     <span class="s2">&quot;@id&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">})</span></div>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;DataMetricsOutputInfo.from_dict(</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">to_dict</span><span class="p">())</span>
    
    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="c1"># Equality test is simple one which compares the data attributes. Note that _id data attribute may be different.</span>
        <span class="k">if</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)):</span>
            <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">spacecraftId</span><span class="o">==</span><span class="n">other</span><span class="o">.</span><span class="n">spacecraftId</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">instruId</span><span class="o">==</span><span class="n">other</span><span class="o">.</span><span class="n">instruId</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">modeId</span><span class="o">==</span><span class="n">other</span><span class="o">.</span><span class="n">modeId</span><span class="p">)</span> <span class="ow">and</span> \
                   <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">accessFile</span><span class="o">==</span><span class="n">other</span><span class="o">.</span><span class="n">accessFile</span><span class="p">)</span> <span class="ow">and</span>  <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dataMetricsFile</span><span class="o">==</span><span class="n">other</span><span class="o">.</span><span class="n">dataMetricsFile</span><span class="p">)</span> <span class="ow">and</span> \
                   <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">startDate</span><span class="o">==</span><span class="n">other</span><span class="o">.</span><span class="n">startDate</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">duration</span><span class="o">==</span><span class="n">other</span><span class="o">.</span><span class="n">duration</span><span class="p">)</span> 
                
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">NotImplemented</span>
    
<div class="viewcode-block" id="DataMetricsOutputInfo.check_loose_equality"><a class="viewcode-back" href="../../generated/orbitpy.datametricscalculator.DataMetricsOutputInfo.html#orbitpy.datametricscalculator.DataMetricsOutputInfo.check_loose_equality">[docs]</a>    <span class="k">def</span> <span class="nf">check_loose_equality</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Check for equality with another ``DataMetricsOutputInfo`` object considering only some instance variables.</span>

<span class="sd">            :param other: The other ``DataMetricsOutputInfo`` object with which the comparision shall be done.</span>
<span class="sd">            :paramtype other: :class:`orbitpy.datametricscalculator.DataMetricsOutputInfo`</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)):</span>
            <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">spacecraftId</span><span class="o">==</span><span class="n">other</span><span class="o">.</span><span class="n">spacecraftId</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">instruId</span><span class="o">==</span><span class="n">other</span><span class="o">.</span><span class="n">instruId</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">modeId</span><span class="o">==</span><span class="n">other</span><span class="o">.</span><span class="n">modeId</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">accessFile</span><span class="o">==</span><span class="n">other</span><span class="o">.</span><span class="n">accessFile</span><span class="p">)</span>
                
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span></div></div>
</pre></div>

           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, BAERI.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>