

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>orbitpy.util &mdash; OrbitPy 0.1 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> OrbitPy
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../user_guide.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api_reference.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../miscellaneous.html">Miscellaneous</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">OrbitPy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Module code</a> &raquo;</li>
        
      <li>orbitpy.util</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for orbitpy.util</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot; </span>
<span class="sd">.. module:: util</span>

<span class="sd">:synopsis: *Collection of utility classes and functions used by the :code:`orbitpy` package. </span>
<span class="sd">            Note that some utility classes/functions are imported from the :code:`instrupy` package.*</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">uuid</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="kn">import</span> <span class="nn">propcov</span>
<span class="kn">from</span> <span class="nn">instrupy.util</span> <span class="kn">import</span> <span class="n">Entity</span><span class="p">,</span> <span class="n">EnumEntity</span><span class="p">,</span> <span class="n">Constants</span><span class="p">,</span> <span class="n">Orientation</span>
<span class="kn">from</span> <span class="nn">instrupy.base</span> <span class="kn">import</span> <span class="n">Instrument</span>

<span class="k">class</span> <span class="nc">OrbitPyDefaults</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Enumeration of various default values used by package **OrbitPy**.</span>
<span class="sd">        NOT USED.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">grid_res_fac</span> <span class="o">=</span> <span class="mf">0.9</span>
    <span class="n">time_res_fac</span> <span class="o">=</span> <span class="mf">0.25</span>
<div class="viewcode-block" id="StateType"><a class="viewcode-back" href="../../generated/orbitpy.util.StateType.html#orbitpy.util.StateType">[docs]</a><span class="k">class</span> <span class="nc">StateType</span><span class="p">(</span><span class="n">EnumEntity</span><span class="p">):</span>
    <span class="n">KEPLERIAN_EARTH_CENTERED_INERTIAL</span> <span class="o">=</span> <span class="s2">&quot;KEPLERIAN_EARTH_CENTERED_INERTIAL&quot;</span>
    <span class="n">CARTESIAN_EARTH_CENTERED_INERTIAL</span> <span class="o">=</span> <span class="s2">&quot;CARTESIAN_EARTH_CENTERED_INERTIAL&quot;</span>
    <span class="n">CARTESIAN_EARTH_FIXED</span> <span class="o">=</span> <span class="s2">&quot;CARTESIAN_EARTH_FIXED&quot;</span></div>

<div class="viewcode-block" id="DateType"><a class="viewcode-back" href="../../generated/orbitpy.util.DateType.html#orbitpy.util.DateType">[docs]</a><span class="k">class</span> <span class="nc">DateType</span><span class="p">(</span><span class="n">EnumEntity</span><span class="p">):</span>
    <span class="n">GREGORIAN_UT1</span> <span class="o">=</span> <span class="s2">&quot;GREGORIAN_UT1&quot;</span>
    <span class="n">JULIAN_DATE_UT1</span> <span class="o">=</span> <span class="s2">&quot;JULIAN_DATE_UT1&quot;</span>        </div>

<div class="viewcode-block" id="OrbitState"><a class="viewcode-back" href="../../generated/orbitpy.util.OrbitState.html#orbitpy.util.OrbitState">[docs]</a><span class="k">class</span> <span class="nc">OrbitState</span><span class="p">(</span><span class="n">Entity</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Class to store and handle the orbit state (i.e. the date, position and velocity of satellite).</span>
<span class="sd">        The :class:`propcov.AbsoluteDate` and :class:`propcov.OrbitState` objects are used to maintain the </span>
<span class="sd">        date and state respectively. Note that :class:`propcov.OrbitState` and :class:`orbitpy.util.OrbitState`</span>
<span class="sd">        classes are different. The class also provides several staticmethods to convert propcov-class representations </span>
<span class="sd">        to/from inbuilt python datatypes.</span>

<span class="sd">    :ivar date: Date at which the orbit state is defined.</span>
<span class="sd">    :vartype date: :class:`propcov.AbsoluteDate`</span>

<span class="sd">    :ivar state: Orbit state (satellite position, velocity).</span>
<span class="sd">    :vartype state: :class:`propcov.OrbitState`</span>

<span class="sd">    :ivar _id: Unique identifier.</span>
<span class="sd">    :vartype _id: str</span>
<span class="sd">    </span>
<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="OrbitState.__init__"><a class="viewcode-back" href="../../generated/orbitpy.util.OrbitState.html#orbitpy.util.OrbitState.__init__">[docs]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">date</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">_id</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">date</span> <span class="o">=</span> <span class="n">date</span> <span class="k">if</span> <span class="n">date</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">date</span><span class="p">,</span> <span class="n">propcov</span><span class="o">.</span><span class="n">AbsoluteDate</span><span class="p">)</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="n">state</span> <span class="k">if</span> <span class="n">state</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">propcov</span><span class="o">.</span><span class="n">OrbitState</span><span class="p">)</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">OrbitState</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">_id</span><span class="p">,</span> <span class="s2">&quot;OrbitState&quot;</span><span class="p">)</span>   </div>

<div class="viewcode-block" id="OrbitState.from_dict"><a class="viewcode-back" href="../../generated/orbitpy.util.OrbitState.html#orbitpy.util.OrbitState.from_dict">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">from_dict</span><span class="p">(</span><span class="n">d</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Parses orbit state from a dictionary.</span>

<span class="sd">        :param d: Dictionary with the date and state description. Refer to the ``date_from_dict`` and ``state_from_dict``</span>
<span class="sd">                  for description of the expected dictionary key/value pairs.</span>
<span class="sd">        </span>
<span class="sd">        :return: Parsed python object. </span>
<span class="sd">        :rtype: :class:`orbitpy.util.OrbitState`</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">date</span> <span class="o">=</span> <span class="n">OrbitState</span><span class="o">.</span><span class="n">date_from_dict</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;date&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
        <span class="n">state</span> <span class="o">=</span> <span class="n">OrbitState</span><span class="o">.</span><span class="n">state_from_dict</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;state&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">OrbitState</span><span class="p">(</span><span class="n">date</span><span class="o">=</span><span class="n">date</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="n">state</span><span class="p">,</span> <span class="n">_id</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;@id&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span></div>

<div class="viewcode-block" id="OrbitState.to_dict"><a class="viewcode-back" href="../../generated/orbitpy.util.OrbitState.html#orbitpy.util.OrbitState.to_dict">[docs]</a>    <span class="k">def</span> <span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state_type</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Translate the OrbitState object to a Python dictionary such that it can be uniquely reconstructed back from the dictionary.</span>

<span class="sd">        :param state_type: Indicate either &quot;CARTESIAN_EARTH_CENTERED_INERTIAL&quot; or &quot;KEPLERIAN_EARTH_CENTERED_INERTIAL&quot;. Default is &quot;CARTESIAN_EARTH_CENTERED_INERTIAL&quot;.</span>
<span class="sd">        :paramtype state_type: str</span>

<span class="sd">        :returns: ``OrbitState`` as a python dictionary.</span>
<span class="sd">        :rtype: dict</span>

<span class="sd">        &quot;&quot;&quot;</span>        
        <span class="k">return</span> <span class="nb">dict</span><span class="p">({</span><span class="s2">&quot;date&quot;</span><span class="p">:</span> <span class="n">OrbitState</span><span class="o">.</span><span class="n">date_to_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">date</span><span class="p">),</span> 
                     <span class="s2">&quot;state&quot;</span><span class="p">:</span> <span class="n">OrbitState</span><span class="o">.</span><span class="n">state_to_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="p">,</span> <span class="n">state_type</span><span class="p">),</span> 
                     <span class="s2">&quot;@id&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id</span><span class="p">})</span></div>
    
<div class="viewcode-block" id="OrbitState.get_cartesian_earth_centered_inertial_state"><a class="viewcode-back" href="../../generated/orbitpy.util.OrbitState.html#orbitpy.util.OrbitState.get_cartesian_earth_centered_inertial_state">[docs]</a>    <span class="k">def</span> <span class="nf">get_cartesian_earth_centered_inertial_state</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Get Cartesian Earth Centered Inertial position, velocity.</span>

<span class="sd">        :returns: Satellite position, velocity as a list.</span>
<span class="sd">        :rtype: list, float</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">GetCartesianState</span><span class="p">()</span><span class="o">.</span><span class="n">GetRealArray</span><span class="p">()</span></div>

<div class="viewcode-block" id="OrbitState.get_keplerian_earth_centered_inertial_state"><a class="viewcode-back" href="../../generated/orbitpy.util.OrbitState.html#orbitpy.util.OrbitState.get_keplerian_earth_centered_inertial_state">[docs]</a>    <span class="k">def</span> <span class="nf">get_keplerian_earth_centered_inertial_state</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Get Keplerian Earth Centered Inertial position, velocity.</span>

<span class="sd">        :returns: The six orbit Keplerian elements.</span>
<span class="sd">        :rtype: namedtuple, (float)</span>

<span class="sd">        &quot;&quot;&quot;</span>        
        <span class="n">state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">GetKeplerianState</span><span class="p">()</span><span class="o">.</span><span class="n">GetRealArray</span><span class="p">()</span>
        <span class="n">kep_state</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s2">&quot;KeplerianState&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;sma&quot;</span><span class="p">,</span> <span class="s2">&quot;ecc&quot;</span><span class="p">,</span> <span class="s2">&quot;inc&quot;</span><span class="p">,</span> <span class="s2">&quot;raan&quot;</span><span class="p">,</span> <span class="s2">&quot;aop&quot;</span><span class="p">,</span> <span class="s2">&quot;ta&quot;</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">kep_state</span><span class="p">(</span><span class="n">state</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">state</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">state</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">state</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">state</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span></div>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Simple equality check. Returns True if the class attributes are equal, else returns False.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)):</span>
            <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">date</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">date</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">state</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">NotImplemented</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;OrbitState.from_dict(</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">to_dict</span><span class="p">())</span>

<div class="viewcode-block" id="OrbitState.date_from_dict"><a class="viewcode-back" href="../../generated/orbitpy.util.OrbitState.html#orbitpy.util.OrbitState.date_from_dict">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">date_from_dict</span><span class="p">(</span><span class="n">d</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Get the ``propcov.AbsoluteDate`` object from the input dictionary.</span>

<span class="sd">        :param d: Dictionary with the date description. </span>
<span class="sd">            </span>
<span class="sd">            In case of ``GREGORIAN_UT1`` date type the following keys apply: year (int), month (int), day (int), hour (int), minute (int) and second (float).</span>

<span class="sd">            In case of ``JULIAN_DATE_UT1`` date type the following keys apply: jd (float)</span>

<span class="sd">        :paramtype d: dict</span>

<span class="sd">        :returns: ``propcov`` date object.</span>
<span class="sd">        :rtype: :class:`propcov.AbsoluteDate`</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">help</span><span class="p">(</span><span class="n">propcov</span><span class="p">))</span>
        <span class="n">date</span> <span class="o">=</span> <span class="n">propcov</span><span class="o">.</span><span class="n">AbsoluteDate</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">d</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>            
            <span class="k">if</span><span class="p">(</span><span class="n">DateType</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s2">&quot;@type&quot;</span><span class="p">])</span> <span class="o">==</span> <span class="n">DateType</span><span class="o">.</span><span class="n">GREGORIAN_UT1</span><span class="p">):</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">date</span><span class="o">.</span><span class="n">SetGregorianDate</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="n">d</span><span class="p">[</span><span class="s2">&quot;year&quot;</span><span class="p">],</span> <span class="n">month</span><span class="o">=</span><span class="n">d</span><span class="p">[</span><span class="s2">&quot;month&quot;</span><span class="p">],</span> <span class="n">day</span><span class="o">=</span><span class="n">d</span><span class="p">[</span><span class="s2">&quot;day&quot;</span><span class="p">],</span> <span class="n">hour</span><span class="o">=</span><span class="n">d</span><span class="p">[</span><span class="s2">&quot;hour&quot;</span><span class="p">],</span> <span class="n">minute</span><span class="o">=</span><span class="n">d</span><span class="p">[</span><span class="s2">&quot;minute&quot;</span><span class="p">],</span> <span class="n">second</span><span class="o">=</span><span class="n">d</span><span class="p">[</span><span class="s2">&quot;second&quot;</span><span class="p">])</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Something wrong in setting of Gregorian UT1 date object. Check that the year, month, day, hour, second key/value pairs have been specified in the input dictionary.&quot;</span><span class="p">)</span>
        
            <span class="k">elif</span><span class="p">(</span><span class="n">DateType</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s2">&quot;@type&quot;</span><span class="p">])</span> <span class="o">==</span> <span class="n">DateType</span><span class="o">.</span><span class="n">JULIAN_DATE_UT1</span><span class="p">):</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">date</span><span class="o">.</span><span class="n">SetJulianDate</span><span class="p">(</span><span class="n">jd</span><span class="o">=</span><span class="n">d</span><span class="p">[</span><span class="s2">&quot;jd&quot;</span><span class="p">])</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Something wrong in setting of Julian UT1 date object. Check that the jd key/value pair has been specified in the input dictionary.&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Please specify a date.&quot;</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="n">date</span></div>

<div class="viewcode-block" id="OrbitState.state_from_dict"><a class="viewcode-back" href="../../generated/orbitpy.util.OrbitState.html#orbitpy.util.OrbitState.state_from_dict">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">state_from_dict</span><span class="p">(</span><span class="n">d</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Get the ``propcov.OrbitState`` object from the input dictionary.</span>

<span class="sd">        :param d: Dictionary with the date description. </span>
<span class="sd">            </span>
<span class="sd">            In case of ``KEPLERIAN_EARTH_CENTERED_INERTIAL`` state type the following keys apply: </span>
<span class="sd">            </span>
<span class="sd">            * sma : (float) Semimajor axis length in kilometers.</span>
<span class="sd">            * ecc : (float) Eccentricity.</span>
<span class="sd">            * inc : (float) Inclination in degrees.</span>
<span class="sd">            * raan: (float) Right Ascension of Ascending Node in degrees.</span>
<span class="sd">            * aop : (float) Argument of perigee in degrees.</span>
<span class="sd">            *  ta : (float) True Anomaly in degrees.</span>

<span class="sd">            In case of `CARTESIAN_EARTH_CENTERED_INERTIAL` state type the following keys apply: </span>
<span class="sd">            </span>
<span class="sd">            * x  : (km) satellite x-position</span>
<span class="sd">            * y  : (km) satellite x-position</span>
<span class="sd">            * z  : (km) satellite x-position</span>
<span class="sd">            * vx : (km/s) satellite x-velocity</span>
<span class="sd">            * vy : (km/s) satellite y-velocity</span>
<span class="sd">            * vz : (km/s) satellite z-velocity</span>

<span class="sd">        :paramtype d: dict</span>

<span class="sd">        :returns: ``propcov`` state object.</span>
<span class="sd">        :rtype: :class:`propcov.OrbitState`</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">state</span> <span class="o">=</span> <span class="n">propcov</span><span class="o">.</span><span class="n">OrbitState</span><span class="p">()</span>
        <span class="n">stateType</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;@type&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">state_type</span> <span class="o">=</span> <span class="n">StateType</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">stateType</span><span class="p">)</span> <span class="k">if</span> <span class="n">stateType</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
        
        <span class="k">if</span> <span class="n">state_type</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">state_type</span> <span class="o">==</span> <span class="n">StateType</span><span class="o">.</span><span class="n">KEPLERIAN_EARTH_CENTERED_INERTIAL</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span> 
                    <span class="c1"># angles must be converted to radians</span>
                    <span class="n">state</span><span class="o">.</span><span class="n">SetKeplerianState</span><span class="p">(</span><span class="n">SMA</span><span class="o">=</span><span class="n">d</span><span class="p">[</span><span class="s2">&quot;sma&quot;</span><span class="p">],</span> <span class="n">ECC</span><span class="o">=</span><span class="n">d</span><span class="p">[</span><span class="s2">&quot;ecc&quot;</span><span class="p">],</span> <span class="n">INC</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">deg2rad</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s2">&quot;inc&quot;</span><span class="p">]),</span> <span class="n">RAAN</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">deg2rad</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s2">&quot;raan&quot;</span><span class="p">]),</span> <span class="n">AOP</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">deg2rad</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s2">&quot;aop&quot;</span><span class="p">]),</span> <span class="n">TA</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">deg2rad</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s2">&quot;ta&quot;</span><span class="p">]))</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Something wrong in setting of state object with Keplerian parameters. Check that the sma, ecc, inc, raan, aop and ta key/value pairs have been specified in the input dictionary.&quot;</span><span class="p">)</span>                
            <span class="k">elif</span> <span class="n">state_type</span> <span class="o">==</span> <span class="n">StateType</span><span class="o">.</span><span class="n">CARTESIAN_EARTH_CENTERED_INERTIAL</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">state</span><span class="o">.</span><span class="n">SetCartesianState</span><span class="p">(</span><span class="n">propcov</span><span class="o">.</span><span class="n">Rvector6</span><span class="p">([</span><span class="n">d</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">],</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;y&quot;</span><span class="p">],</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;z&quot;</span><span class="p">],</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;vx&quot;</span><span class="p">],</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;vy&quot;</span><span class="p">],</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;vz&quot;</span><span class="p">]]))</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Some wrong in setting of state object with Cartesian ECI parameters. Check that the x, y, z, vx, vy, vz key/value pairs are specified in the input dictionary.&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">NotImplementedError</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Please enter a state-type (@type) specification.&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">state</span></div>
    
<div class="viewcode-block" id="OrbitState.date_to_dict"><a class="viewcode-back" href="../../generated/orbitpy.util.OrbitState.html#orbitpy.util.OrbitState.date_to_dict">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">date_to_dict</span><span class="p">(</span><span class="n">date</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Get a Python dictionary representation of the input ``propcov`` date object. </span>

<span class="sd">        :param date: ``propcov`` date object.</span>
<span class="sd">        :paramtype date: :class:`propcov.AbsoluteDate`</span>

<span class="sd">        :returns: Python dictionary representation of the input date. </span>
<span class="sd">        :rtype: dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span> <span class="s2">&quot;@type&quot;</span><span class="p">:</span> <span class="s2">&quot;JULIAN_DATE_UT1&quot;</span><span class="p">,</span> <span class="s2">&quot;jd&quot;</span><span class="p">:</span> <span class="n">date</span><span class="o">.</span><span class="n">GetJulianDate</span><span class="p">()}</span></div>

<div class="viewcode-block" id="OrbitState.state_to_dict"><a class="viewcode-back" href="../../generated/orbitpy.util.OrbitState.html#orbitpy.util.OrbitState.state_to_dict">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">state_to_dict</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">state_type</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Get a Python dictionary representation of the input ``propcov`` state object. Description shall be in </span>
<span class="sd">            CARTESIAN_EARTH_CENTERED_INERTIAL or KEPLERIAN_EARTH_CENTERED_INERTIAL.</span>

<span class="sd">        :param date: ``propcov`` state object.</span>
<span class="sd">        :paramtype date: :class:`propcov.OrbitState`</span>

<span class="sd">        :param state_type: Indicate either &quot;CARTESIAN_EARTH_CENTERED_INERTIAL&quot; or &quot;KEPLERIAN_EARTH_CENTERED_INERTIAL&quot;. Default is &quot;CARTESIAN_EARTH_CENTERED_INERTIAL&quot;.</span>
<span class="sd">        :paramtype state_type: str</span>

<span class="sd">        :returns: Python dictionary representation of the input state. </span>
<span class="sd">        :rtype: dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">state_type</span> <span class="o">=</span> <span class="n">StateType</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">state_type</span><span class="p">)</span> <span class="k">if</span> <span class="n">state_type</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">StateType</span><span class="o">.</span><span class="n">CARTESIAN_EARTH_CENTERED_INERTIAL</span> <span class="c1"># default</span>
        <span class="k">if</span> <span class="n">state_type</span> <span class="o">==</span> <span class="n">StateType</span><span class="o">.</span><span class="n">CARTESIAN_EARTH_CENTERED_INERTIAL</span><span class="p">:</span>
            <span class="n">state_list</span> <span class="o">=</span> <span class="n">state</span><span class="o">.</span><span class="n">GetCartesianState</span><span class="p">()</span><span class="o">.</span><span class="n">GetRealArray</span><span class="p">()</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;@type&quot;</span><span class="p">:</span> <span class="s2">&quot;CARTESIAN_EARTH_CENTERED_INERTIAL&quot;</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="n">state_list</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="n">state_list</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s2">&quot;z&quot;</span><span class="p">:</span> <span class="n">state_list</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> 
                    <span class="s2">&quot;vx&quot;</span><span class="p">:</span> <span class="n">state_list</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="s2">&quot;vy&quot;</span><span class="p">:</span> <span class="n">state_list</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="s2">&quot;vz&quot;</span><span class="p">:</span> <span class="n">state_list</span><span class="p">[</span><span class="mi">5</span><span class="p">]}</span>
        <span class="k">elif</span> <span class="n">state_type</span> <span class="o">==</span> <span class="n">StateType</span><span class="o">.</span><span class="n">KEPLERIAN_EARTH_CENTERED_INERTIAL</span><span class="p">:</span>
            <span class="n">state_list</span> <span class="o">=</span> <span class="n">state</span><span class="o">.</span><span class="n">GetKeplerianState</span><span class="p">()</span><span class="o">.</span><span class="n">GetRealArray</span><span class="p">()</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;@type&quot;</span><span class="p">:</span> <span class="s2">&quot;KEPLERIAN_EARTH_CENTERED_INERTIAL&quot;</span><span class="p">,</span> <span class="s2">&quot;sma&quot;</span><span class="p">:</span> <span class="n">state_list</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s2">&quot;ecc&quot;</span><span class="p">:</span> <span class="n">state_list</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s2">&quot;inc&quot;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">rad2deg</span><span class="p">(</span><span class="n">state_list</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span> 
                <span class="s2">&quot;raan&quot;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">rad2deg</span><span class="p">(</span><span class="n">state_list</span><span class="p">[</span><span class="mi">3</span><span class="p">]),</span> <span class="s2">&quot;aop&quot;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">rad2deg</span><span class="p">(</span><span class="n">state_list</span><span class="p">[</span><span class="mi">4</span><span class="p">]),</span> <span class="s2">&quot;ta&quot;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">rad2deg</span><span class="p">(</span><span class="n">state_list</span><span class="p">[</span><span class="mi">5</span><span class="p">])}</span>        </div>

<div class="viewcode-block" id="OrbitState.get_julian_date"><a class="viewcode-back" href="../../generated/orbitpy.util.OrbitState.html#orbitpy.util.OrbitState.get_julian_date">[docs]</a>    <span class="k">def</span> <span class="nf">get_julian_date</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Get Julian Date UT1.</span>

<span class="sd">        :returns: Julian date UT1</span>
<span class="sd">        :rtype: float</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">GetJulianDate</span><span class="p">()</span>     </div></div>

<div class="viewcode-block" id="SpacecraftBus"><a class="viewcode-back" href="../../generated/orbitpy.util.SpacecraftBus.html#orbitpy.util.SpacecraftBus">[docs]</a><span class="k">class</span> <span class="nc">SpacecraftBus</span><span class="p">(</span><span class="n">Entity</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Class to store and handle the spacecraft bus attributes.</span>

<span class="sd">    :ivar name: Name of the bus.</span>
<span class="sd">    :vartype name: str</span>

<span class="sd">    :ivar mass: (kg) Mass of the bus.</span>
<span class="sd">    :vartype mass: float</span>

<span class="sd">    :ivar volume: (m3) Volume of the bus.</span>
<span class="sd">    :vartype volume: float</span>
<span class="sd">    </span>
<span class="sd">    :ivar orientation: Bus orientation. Can be specified with respect to any one of the reference frames defined in :class:`instrupy.util.ReferenceFrame`</span>
<span class="sd">    :vartype orientation: :class:`instrupy.util.Orientation`</span>

<span class="sd">    :ivar solar_panel_config: Solar panel configuration</span>
<span class="sd">    :vartype solar_panel_config: str #@TODO: revise</span>

<span class="sd">    :ivar _id: Unique identifier.</span>
<span class="sd">    :vartype _id: str</span>
<span class="sd">    </span>
<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="SpacecraftBus.__init__"><a class="viewcode-back" href="../../generated/orbitpy.util.SpacecraftBus.html#orbitpy.util.SpacecraftBus.__init__">[docs]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">mass</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">volume</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">orientation</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">solarPanelConfig</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">_id</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mass</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">mass</span><span class="p">)</span> <span class="k">if</span> <span class="n">mass</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">volume</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span> <span class="k">if</span> <span class="n">volume</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">orientation</span> <span class="o">=</span> <span class="n">orientation</span> <span class="k">if</span> <span class="n">orientation</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">orientation</span><span class="p">,</span> <span class="n">Orientation</span><span class="p">)</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">solarPanelConfig</span> <span class="o">=</span> <span class="n">solarPanelConfig</span> <span class="k">if</span> <span class="n">solarPanelConfig</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">SpacecraftBus</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">_id</span><span class="p">,</span> <span class="s2">&quot;SpacecraftBus&quot;</span><span class="p">)</span>   </div>

<div class="viewcode-block" id="SpacecraftBus.from_dict"><a class="viewcode-back" href="../../generated/orbitpy.util.SpacecraftBus.html#orbitpy.util.SpacecraftBus.from_dict">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">from_dict</span><span class="p">(</span><span class="n">d</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Parses ``SpacecraftBus`` object from a dictionary.</span>

<span class="sd">        :param d: Dictionary with the spacecraft bus properties.</span>
<span class="sd">        </span>
<span class="sd">        :return: Parsed python object. </span>
<span class="sd">        :rtype: :class:`orbitpy.util.SpacecraftBus`</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">default_orien</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">({</span><span class="s2">&quot;referenceFrame&quot;</span><span class="p">:</span> <span class="s2">&quot;NADIR_POINTING&quot;</span><span class="p">,</span> <span class="s2">&quot;convention&quot;</span><span class="p">:</span> <span class="s2">&quot;REF_FRAME_ALIGNED&quot;</span><span class="p">})</span> <span class="c1">#  default orientation = referenced and aligned to the NADIR_POINTING frame.</span>
        <span class="k">return</span> <span class="n">SpacecraftBus</span><span class="p">(</span>
                <span class="n">name</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
                <span class="n">mass</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;mass&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
                <span class="n">volume</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;volume&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
                <span class="n">solarPanelConfig</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;solarPanelConfig&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
                <span class="n">orientation</span> <span class="o">=</span> <span class="n">Orientation</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;orientation&quot;</span><span class="p">,</span> <span class="n">default_orien</span><span class="p">)),</span>
                <span class="n">_id</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;@id&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                <span class="p">)</span></div>

<div class="viewcode-block" id="SpacecraftBus.to_dict"><a class="viewcode-back" href="../../generated/orbitpy.util.SpacecraftBus.html#orbitpy.util.SpacecraftBus.to_dict">[docs]</a>    <span class="k">def</span> <span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state_type</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Translate the SpacecraftBus object to a Python dictionary such that it can be uniquely reconstructed back from the dictionary.</span>

<span class="sd">        :returns: SpacecraftBus specifications as python dictionary.</span>
<span class="sd">        :rtype: dict</span>

<span class="sd">        &quot;&quot;&quot;</span>        
        <span class="n">orientation_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">orientation</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">orientation</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">orientation</span><span class="p">,</span> <span class="n">Orientation</span><span class="p">)</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="nb">dict</span><span class="p">({</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                     <span class="s2">&quot;mass&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">mass</span><span class="p">,</span>
                     <span class="s2">&quot;volume&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">volume</span><span class="p">,</span>
                     <span class="s2">&quot;solarPanelConfig&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">solarPanelConfig</span><span class="p">,</span> 
                     <span class="s2">&quot;orientation&quot;</span><span class="p">:</span> <span class="n">orientation_dict</span><span class="p">,</span> 
                     <span class="s2">&quot;@id&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id</span>
                    <span class="p">})</span></div>
    
    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;SpacecraftBus.from_dict(</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">to_dict</span><span class="p">())</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Simple equality check. Returns True if the class attributes are equal, else returns False. </span>
<span class="sd">            Note that _id data attribute may be different.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)):</span>
            <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">name</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">mass</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">mass</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">volume</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">volume</span> \
                    <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">orientation</span><span class="o">==</span><span class="n">other</span><span class="o">.</span><span class="n">orientation</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">solarPanelConfig</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">solarPanelConfig</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">NotImplemented</span></div>

<div class="viewcode-block" id="Spacecraft"><a class="viewcode-back" href="../../generated/orbitpy.util.Spacecraft.html#orbitpy.util.Spacecraft">[docs]</a><span class="k">class</span> <span class="nc">Spacecraft</span><span class="p">(</span><span class="n">Entity</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Class to store and handle the spacecraft attributes.</span>

<span class="sd">    :ivar name: Name of the spacecraft.</span>
<span class="sd">    :vartype name: str</span>

<span class="sd">    :ivar orbitState: Orbit specifications of the spacecraft (defined at a specific time).</span>
<span class="sd">    :vartype orbitState: :Class:`orbitpy.util.OrbitState`</span>

<span class="sd">    :ivar spacecraftBus: Spacecraft bus.</span>
<span class="sd">    :vartype spacecraftBus: :class:`orbitpy.util.SpacecraftBus`</span>
<span class="sd">    </span>
<span class="sd">    :ivar instrument: List of instrument(s) belonging to the spacecraft. </span>
<span class="sd">    :vartype instrument: list, :class:`instrupy.Instrument`</span>

<span class="sd">    :ivar _id: Unique identifier.</span>
<span class="sd">    :vartype _id: str</span>
<span class="sd">    </span>
<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="Spacecraft.__init__"><a class="viewcode-back" href="../../generated/orbitpy.util.Spacecraft.html#orbitpy.util.Spacecraft.__init__">[docs]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">orbitState</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">spacecraftBus</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">instrument</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">_id</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">orbitState</span> <span class="o">=</span> <span class="n">orbitState</span> <span class="k">if</span> <span class="n">orbitState</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">orbitState</span><span class="p">,</span> <span class="n">OrbitState</span><span class="p">)</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">spacecraftBus</span> <span class="o">=</span> <span class="n">spacecraftBus</span> <span class="k">if</span> <span class="n">spacecraftBus</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">spacecraftBus</span><span class="p">,</span> <span class="n">SpacecraftBus</span><span class="p">)</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">instrument</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">instrument</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">instrument</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">Instrument</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">instrument</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">instrument</span> <span class="o">=</span> <span class="n">instrument</span>
        <span class="k">elif</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">instrument</span><span class="p">,</span> <span class="n">Instrument</span><span class="p">)):</span> <span class="c1"># make into list if not list</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">instrument</span> <span class="o">=</span> <span class="p">[</span><span class="n">instrument</span><span class="p">]</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Spacecraft</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">_id</span><span class="p">,</span> <span class="s2">&quot;Spacecraft&quot;</span><span class="p">)</span> </div>

<div class="viewcode-block" id="Spacecraft.from_dict"><a class="viewcode-back" href="../../generated/orbitpy.util.Spacecraft.html#orbitpy.util.Spacecraft.from_dict">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">from_dict</span><span class="p">(</span><span class="n">d</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Parses ``Spacecraft`` object from a dictionary.</span>

<span class="sd">        :param d: Dictionary with the spacecraft properties.</span>

<span class="sd">            The following key/value pairs are expected:: </span>
<span class="sd">                </span>
<span class="sd">                * &quot;name&quot; : (str) Name of the spacecraft.</span>
<span class="sd">                * &quot;orbitState&quot; : (dict) Spacecraft orbit-state specification (see :class:`orbitpy.util.OrbitState.from_dict`).</span>
<span class="sd">                * &quot;spacecraftBus&quot; : (dict) Spacecraft bus specification (see :class:`orbitpy.util.SpacecraftBus.from_dict`). </span>
<span class="sd">                                     If missing or :class:`None`, a bus with the orientation in the ``NADIR_POINTING`` frame and convention ``REF_FRAME_ALIGNED`` is assigned. </span>
<span class="sd">                * &quot;instrument&quot;: (list, dict) Instrument(s) specification (see :class:`instrupy.base.Instrument.from_dict`).</span>
<span class="sd">                * &quot;@id&quot;: (str/int) Spacecraft unique identifier. If missing, a random string is assigned.</span>

<span class="sd">        :paramtype d: dict</span>
<span class="sd">        </span>
<span class="sd">        :return: Parsed python object. </span>
<span class="sd">        :rtype: :class:`orbitpy.util.Spacecraft`</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">instru_dict</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;instrument&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">instrument</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">instru_dict</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">instru_dict</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span> <span class="c1"># multiple instruments in the spacecraft</span>
                <span class="n">instrument</span> <span class="o">=</span> <span class="p">[</span><span class="n">Instrument</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">instru_dict</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">instrument</span> <span class="o">=</span> <span class="p">[</span><span class="n">Instrument</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">instru_dict</span><span class="p">)]</span>
        <span class="n">orbitstate_dict</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;orbitState&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">spacecraft_bus_dict</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;spacecraftBus&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">Spacecraft</span><span class="p">(</span>
                <span class="n">name</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
                <span class="n">orbitState</span> <span class="o">=</span> <span class="n">OrbitState</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">orbitstate_dict</span><span class="p">)</span> <span class="k">if</span> <span class="n">orbitstate_dict</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
                <span class="n">spacecraftBus</span> <span class="o">=</span> <span class="n">SpacecraftBus</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">spacecraft_bus_dict</span><span class="p">)</span> <span class="k">if</span> <span class="n">spacecraft_bus_dict</span> <span class="k">else</span> <span class="n">SpacecraftBus</span><span class="o">.</span><span class="n">from_dict</span><span class="p">({</span><span class="s1">&#39;orientation&#39;</span><span class="p">:{</span><span class="s1">&#39;referenceFrame&#39;</span><span class="p">:</span> <span class="s1">&#39;NADIR_POINTING&#39;</span><span class="p">,</span> <span class="s1">&#39;convention&#39;</span><span class="p">:</span><span class="s1">&#39;REF_FRAME_ALIGNED&#39;</span><span class="p">}}),</span>
                <span class="n">instrument</span> <span class="o">=</span> <span class="n">instrument</span><span class="p">,</span>
                <span class="n">_id</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;@id&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">()))</span>
                <span class="p">)</span></div>

<div class="viewcode-block" id="Spacecraft.to_dict"><a class="viewcode-back" href="../../generated/orbitpy.util.Spacecraft.html#orbitpy.util.Spacecraft.to_dict">[docs]</a>    <span class="k">def</span> <span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Translate the Spacecraft object to a Python dictionary such that it can be uniquely reconstructed back from the dictionary.</span>

<span class="sd">        :returns: ``Spacecraft`` object as python dictionary.</span>
<span class="sd">        :rtype: dict</span>

<span class="sd">        &quot;&quot;&quot;</span>        
        <span class="n">orbitState_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">orbitState</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">orbitState</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">orbitState</span><span class="p">,</span> <span class="n">OrbitState</span><span class="p">)</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="n">spacecraftBus_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">spacecraftBus</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">spacecraftBus</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">spacecraftBus</span><span class="p">,</span> <span class="n">SpacecraftBus</span><span class="p">)</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="n">instrument_dict</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">instrument</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">instrument</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span> <span class="c1"># multiple instruments in the spacecraft</span>
                <span class="n">instrument_dict</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">instrument</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">instrument_dict</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">instrument</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()]</span>
        <span class="k">return</span> <span class="nb">dict</span><span class="p">({</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                     <span class="s2">&quot;orbitState&quot;</span><span class="p">:</span> <span class="n">orbitState_dict</span><span class="p">,</span>
                     <span class="s2">&quot;spacecraftBus&quot;</span><span class="p">:</span> <span class="n">spacecraftBus_dict</span><span class="p">,</span>
                     <span class="s2">&quot;instrument&quot;</span><span class="p">:</span> <span class="n">instrument_dict</span><span class="p">,</span> 
                     <span class="s2">&quot;@id&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id</span>
                    <span class="p">})</span></div>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;Spacecraft.from_dict(</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">to_dict</span><span class="p">())</span>
    
<div class="viewcode-block" id="Spacecraft.add_instrument"><a class="viewcode-back" href="../../generated/orbitpy.util.Spacecraft.html#orbitpy.util.Spacecraft.add_instrument">[docs]</a>    <span class="k">def</span> <span class="nf">add_instrument</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_instru</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Add input instrument to the spacecraft&#39;s list of instruments.</span>

<span class="sd">            :param new_instru: New instrument(s) to be added to the spacecraft. </span>
<span class="sd">            :paramtype new_instru: :class:`instrupy.base.Instrument` or list, :class:`instrupy.base.Instrument`</span>
<span class="sd">            </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">new_instru</span> <span class="o">=</span> <span class="n">initialize_object_list</span><span class="p">(</span><span class="n">new_instru</span><span class="p">,</span> <span class="n">Instrument</span><span class="p">)</span> <span class="c1"># make into list if not already a list</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">instrument</span><span class="p">,</span> <span class="n">Instrument</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">instrument</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">instrument</span><span class="p">]</span> <span class="c1"># make into list</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">instrument</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">instrument</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">new_instru</span><span class="p">)</span> 
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">instrument</span> <span class="o">=</span> <span class="n">new_instru</span> </div>
    
<div class="viewcode-block" id="Spacecraft.get_id"><a class="viewcode-back" href="../../generated/orbitpy.util.Spacecraft.html#orbitpy.util.Spacecraft.get_id">[docs]</a>    <span class="k">def</span> <span class="nf">get_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Get spacecraft identifier.</span>

<span class="sd">        :returns: spacecraft identifier.</span>
<span class="sd">        :rtype: str or int</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id</span></div>
    
<div class="viewcode-block" id="Spacecraft.get_instrument"><a class="viewcode-back" href="../../generated/orbitpy.util.Spacecraft.html#orbitpy.util.Spacecraft.get_instrument">[docs]</a>    <span class="k">def</span> <span class="nf">get_instrument</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sensor_id</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Get ``Instrument`` object (from a list of instruments present in the ``Spacecraft`` object.) corresponding to the specified sensor id.</span>

<span class="sd">        :param sensor_id: Instrument identifier. If ``None``, the first instrument in the list of instruments is returned.</span>
<span class="sd">        :paramtype sensor_id: str or int</span>

<span class="sd">        :return: Instrument corresponding to the input sensor id. If not match not found, return ``None``.</span>
<span class="sd">        :rtype: :class:`instrupy.Instrument` or None</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># check if spacecraft has no instruments and return None</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">instrument</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="c1"># if sensor_id is not specified, return first instrument in the list</span>
        <span class="k">if</span><span class="p">(</span><span class="n">sensor_id</span><span class="o">==</span><span class="kc">None</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">instrument</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="c1"># search matching instrument id</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">instrument</span><span class="p">:</span>
            <span class="k">if</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">get_id</span><span class="p">()</span> <span class="o">==</span> <span class="n">sensor_id</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">x</span>
        <span class="k">return</span> <span class="kc">None</span></div>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="c1"># Equality test is simple one which compares the data attributes. Note that _id data attribute may be different</span>
        <span class="k">if</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)):</span>
            <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">name</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">orbitState</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">orbitState</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">spacecraftBus</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">spacecraftBus</span> \
                    <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">instrument</span><span class="o">==</span><span class="n">other</span><span class="o">.</span><span class="n">instrument</span><span class="p">)</span>                
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">NotImplemented</span>    </div>

<div class="viewcode-block" id="GroundStation"><a class="viewcode-back" href="../../generated/orbitpy.util.GroundStation.html#orbitpy.util.GroundStation">[docs]</a><span class="k">class</span> <span class="nc">GroundStation</span><span class="p">(</span><span class="n">Entity</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Class to store and handle the ground-station attributes.</span>

<span class="sd">    :ivar name: Name of the ground-station</span>
<span class="sd">    :vartype name: str</span>

<span class="sd">    :ivar latitude: [deg] Geocentric latitude coordinates of the ground-station.</span>
<span class="sd">    :vartype latitude: float</span>

<span class="sd">    :ivar longitude: [deg] Geocentric longitude coordinates of the ground-station.</span>
<span class="sd">    :vartype longitude: float</span>
<span class="sd">    </span>
<span class="sd">    :ivar altitude: [km] Altitude of the ground-station.</span>
<span class="sd">    :vartype altitude: float</span>

<span class="sd">    :ivar minimumElevation: [deg] Minmum required elevation (angle from ground-plane to satellite) for communication with satellite. </span>
<span class="sd">    :vartype minimumElevation: float</span>

<span class="sd">    :ivar _id: Unique identifier.</span>
<span class="sd">    :vartype _id: str</span>
<span class="sd">    </span>
<span class="sd">    &quot;&quot;&quot;</span>
<div class="viewcode-block" id="GroundStation.__init__"><a class="viewcode-back" href="../../generated/orbitpy.util.GroundStation.html#orbitpy.util.GroundStation.__init__">[docs]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">latitude</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">longitude</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">altitude</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">minimumElevation</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">_id</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">latitude</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">latitude</span><span class="p">)</span> <span class="k">if</span> <span class="n">latitude</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">longitude</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">longitude</span><span class="p">)</span> <span class="k">if</span> <span class="n">longitude</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">altitude</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">altitude</span><span class="p">)</span> <span class="k">if</span> <span class="n">altitude</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">minimumElevation</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">minimumElevation</span><span class="p">)</span> <span class="k">if</span> <span class="n">minimumElevation</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>

        <span class="nb">super</span><span class="p">(</span><span class="n">GroundStation</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">_id</span><span class="p">,</span> <span class="s2">&quot;GroundStation&quot;</span><span class="p">)</span>   </div>

<div class="viewcode-block" id="GroundStation.from_dict"><a class="viewcode-back" href="../../generated/orbitpy.util.GroundStation.html#orbitpy.util.GroundStation.from_dict">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">from_dict</span><span class="p">(</span><span class="n">d</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Parses ``GroundStation`` object from a dictionary.</span>

<span class="sd">        :param d: Dictionary with the ground-station properties. </span>

<span class="sd">                The following key/value pairs are expected:</span>

<span class="sd">                * &quot;name&quot; : (str) Name of the ground-station.</span>
<span class="sd">                * &quot;latitude&quot;: (float) geocentric latitude coordinates of the ground-station in degrees.</span>
<span class="sd">                * &quot;longitude&quot;: (float) geocentric longitude coordinates of the ground-station in degrees.</span>
<span class="sd">                * &quot;altitude&quot;: (float) ground-station altitude in kilometers. If not defined, value of 0km is assigned.</span>
<span class="sd">                * &quot;minimumElevation&quot;: (float) Minimum required elevation (angle from ground-plane to satellite in degrees) for communication with satellite. If not defined, value of 7 deg is assigned.</span>
<span class="sd">                * &quot;@id&quot;: (str/int) Unique ground-station identifier. If not defined, a random string is assigned.</span>

<span class="sd">        </span>
<span class="sd">        :return: Parsed python object. </span>
<span class="sd">        :rtype: :class:`orbitpy.util.GroundStation`</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">GroundStation</span><span class="p">(</span>
                <span class="n">name</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
                <span class="n">latitude</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;latitude&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
                <span class="n">longitude</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;longitude&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
                <span class="n">altitude</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;altitude&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="c1"># Altitude default value is 0km</span>
                <span class="n">minimumElevation</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;minimumElevation&quot;</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="c1"># 7 deg minimum elevation default</span>
                <span class="n">_id</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;@id&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">()))</span> <span class="c1"># random default id</span>
                <span class="p">)</span></div>

<div class="viewcode-block" id="GroundStation.to_dict"><a class="viewcode-back" href="../../generated/orbitpy.util.GroundStation.html#orbitpy.util.GroundStation.to_dict">[docs]</a>    <span class="k">def</span> <span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Translate the ``GroundStation`` object to a Python dictionary such that it can be uniquely reconstructed back from the dictionary.</span>

<span class="sd">        :returns: ``GroundStation`` object as python dictionary.</span>
<span class="sd">        :rtype: dict</span>

<span class="sd">        &quot;&quot;&quot;</span>        
        <span class="k">return</span> <span class="nb">dict</span><span class="p">({</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                     <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">latitude</span><span class="p">,</span>
                     <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">longitude</span><span class="p">,</span>
                     <span class="s2">&quot;altitude&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">altitude</span><span class="p">,</span> 
                     <span class="s2">&quot;minimumElevation&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">minimumElevation</span><span class="p">,</span> 
                     <span class="s2">&quot;@id&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_id</span>
                    <span class="p">})</span></div>
    
    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;GroundStation.from_dict(</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">to_dict</span><span class="p">())</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Simple equality check. Returns True if the class attributes are equal, else returns False. </span>
<span class="sd">            Note that _id data attribute may be different.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)):</span>
            <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">name</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">latitude</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">latitude</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">longitude</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">longitude</span> \
                    <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">altitude</span><span class="o">==</span><span class="n">other</span><span class="o">.</span><span class="n">altitude</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">minimumElevation</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">minimumElevation</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">NotImplemented</span>
    
<div class="viewcode-block" id="GroundStation.get_coords"><a class="viewcode-back" href="../../generated/orbitpy.util.GroundStation.html#orbitpy.util.GroundStation.get_coords">[docs]</a>    <span class="k">def</span> <span class="nf">get_coords</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Get coordinates of the ground-station.</span>

<span class="sd">        :return: Ground-station position (latitude in degrees, longitude in degrees, altitude in kilometers)</span>
<span class="sd">        :rtype: tuple, (float, float, float)</span>
<span class="sd">        </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">latitude</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">longitude</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">altitude</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="helper_extract_spacecraft_params"><a class="viewcode-back" href="../../generated/orbitpy.util.helper_extract_spacecraft_params.html#orbitpy.util.helper_extract_spacecraft_params">[docs]</a><span class="k">def</span> <span class="nf">helper_extract_spacecraft_params</span><span class="p">(</span><span class="n">spacecraft</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Helper function for the time step and grid resolution computation which returns tuples </span>
<span class="sd">        of spacecraft id, instrument id, mode id, semi-major axis, sensor FOV height, FOV width, sceneFOV height, sceneFOV width, FOR height and FOR width. </span>
<span class="sd">        The height and width of the sensor FOV/sceneFOV/FOR correspond to the along-track and cross-track directions when the sensor</span>
<span class="sd">        is aligned to the NADIR_POINTING_FRAME.</span>

<span class="sd">    :param spacecraft: List of spacecrafts in the mission.</span>
<span class="sd">    :paramtype spacecraft: list, :class:`orbitpy:util.Spacecraft`</span>

<span class="sd">    :return: Tuples with spacecraft id, instrument id, mode id, semi-major axis, sensor FOV height, FOV width, sceneFOV height, sceneFOV width, FOR height and FOR width.</span>
<span class="sd">             of all input spacecrafts. None is returned if no spacecrafts are specified.</span>
<span class="sd">    :rtype: list, namedtuple, &lt;str/int, str/int, str/int, float, float, float, float, float, float, float&gt; or None</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_p</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s2">&quot;sc_params&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;sc_id&quot;</span><span class="p">,</span> <span class="s2">&quot;instru_id&quot;</span><span class="p">,</span> <span class="s2">&quot;mode_id&quot;</span><span class="p">,</span> <span class="s2">&quot;sma&quot;</span><span class="p">,</span> <span class="s2">&quot;fov_height&quot;</span><span class="p">,</span> <span class="s2">&quot;fov_width&quot;</span><span class="p">,</span> <span class="s2">&quot;scfov_height&quot;</span><span class="p">,</span> <span class="s2">&quot;scfov_width&quot;</span><span class="p">,</span> <span class="s2">&quot;for_height&quot;</span><span class="p">,</span> <span class="s2">&quot;for_width&quot;</span><span class="p">])</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">if</span> <span class="n">spacecraft</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">spacecraft</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span> 
            <span class="n">spacecraft</span> <span class="o">=</span> <span class="p">[</span><span class="n">spacecraft</span><span class="p">]</span> <span class="c1"># make into list</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">for</span> <span class="n">sc</span> <span class="ow">in</span> <span class="n">spacecraft</span><span class="p">:</span> <span class="c1"># iterate over all satellites</span>
        <span class="n">sc_id</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">get_id</span><span class="p">()</span>
        <span class="n">sma</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">orbitState</span><span class="o">.</span><span class="n">get_keplerian_earth_centered_inertial_state</span><span class="p">()</span><span class="o">.</span><span class="n">sma</span>  

        <span class="k">if</span> <span class="n">sc</span><span class="o">.</span><span class="n">instrument</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">instru</span> <span class="ow">in</span> <span class="n">sc</span><span class="o">.</span><span class="n">instrument</span><span class="p">:</span> <span class="c1"># iterate over each instrument</span>
                <span class="n">instru_id</span> <span class="o">=</span> <span class="n">instru</span><span class="o">.</span><span class="n">get_id</span><span class="p">()</span>
                <span class="n">mode_id</span> <span class="o">=</span> <span class="n">instru</span><span class="o">.</span><span class="n">get_mode_id</span><span class="p">()</span>

                <span class="k">for</span> <span class="n">mode_id</span> <span class="ow">in</span> <span class="n">instru</span><span class="o">.</span><span class="n">get_mode_id</span><span class="p">():</span><span class="c1"># iterate over each mode in the instrument</span>

                    <span class="n">field_of_view</span>  <span class="o">=</span> <span class="n">instru</span><span class="o">.</span><span class="n">get_field_of_view</span><span class="p">(</span><span class="n">mode_id</span><span class="p">)</span>
                    <span class="p">[</span><span class="n">fov_height</span><span class="p">,</span> <span class="n">fov_width</span><span class="p">]</span> <span class="o">=</span> <span class="n">field_of_view</span><span class="o">.</span><span class="n">sph_geom</span><span class="o">.</span><span class="n">get_fov_height_and_width</span><span class="p">()</span>

                    <span class="n">scene_field_of_view</span>  <span class="o">=</span> <span class="n">instru</span><span class="o">.</span><span class="n">get_scene_field_of_view</span><span class="p">(</span><span class="n">mode_id</span><span class="p">)</span>
                    <span class="p">[</span><span class="n">scfov_height</span><span class="p">,</span> <span class="n">scfov_width</span><span class="p">]</span> <span class="o">=</span> <span class="n">scene_field_of_view</span><span class="o">.</span><span class="n">sph_geom</span><span class="o">.</span><span class="n">get_fov_height_and_width</span><span class="p">()</span>

                    <span class="n">field_of_regard</span>  <span class="o">=</span> <span class="n">instru</span><span class="o">.</span><span class="n">get_field_of_regard</span><span class="p">(</span><span class="n">mode_id</span><span class="p">)</span> 

                    <span class="k">if</span> <span class="n">field_of_regard</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="p">[]:</span> <span class="c1"># if FOR is None, use sceneFOV for FOR</span>
                        <span class="n">field_of_regard</span> <span class="o">=</span> <span class="p">[</span><span class="n">instru</span><span class="o">.</span><span class="n">get_scene_field_of_view</span><span class="p">(</span><span class="n">mode_id</span><span class="p">)]</span>
                    
                    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">field_of_regard</span><span class="p">:</span> <span class="c1"># iterate over the field_of_regard list</span>
                        <span class="p">[</span><span class="n">for_height</span><span class="p">,</span> <span class="n">for_width</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">sph_geom</span><span class="o">.</span><span class="n">get_fov_height_and_width</span><span class="p">()</span>

                        <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">_p</span><span class="p">(</span><span class="n">sc_id</span><span class="p">,</span> <span class="n">instru_id</span><span class="p">,</span> <span class="n">mode_id</span><span class="p">,</span> <span class="n">sma</span><span class="p">,</span> <span class="n">fov_height</span><span class="p">,</span> <span class="n">fov_width</span><span class="p">,</span> <span class="n">scfov_height</span><span class="p">,</span> <span class="n">scfov_width</span><span class="p">,</span> <span class="n">for_height</span><span class="p">,</span> <span class="n">for_width</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">params</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">_p</span><span class="p">(</span><span class="n">sc_id</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">sma</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">params</span></div>

<div class="viewcode-block" id="extract_auxillary_info_from_state_file"><a class="viewcode-back" href="../../generated/orbitpy.util.extract_auxillary_info_from_state_file.html#orbitpy.util.extract_auxillary_info_from_state_file">[docs]</a><span class="k">def</span> <span class="nf">extract_auxillary_info_from_state_file</span><span class="p">(</span><span class="n">state_file</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Extract auxillary information (epoch, step-size, duration) from the propagated states file.</span>

<span class="sd">    :param state_file: </span>
<span class="sd">    :paramtype state_file: str</span>

<span class="sd">    :return: Tuple of Epoch in Julian Date UT1, propagation step-size in seconds and propagation duration in days.</span>
<span class="sd">    :rtype: nametuple, (float, float, float)</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">epoch_JDUT1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">state_file</span><span class="p">,</span> <span class="n">skiprows</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">nrows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span> <span class="c1"># 2nd row contains the epoch</span>
    <span class="n">epoch_JDUT1</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">epoch_JDUT1</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">3</span><span class="p">])</span>

    <span class="n">step_size</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">state_file</span><span class="p">,</span> <span class="n">skiprows</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">nrows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span> <span class="c1"># 3rd row contains the stepsize</span>
    <span class="n">step_size</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">step_size</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">4</span><span class="p">])</span>

    <span class="n">duration</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">state_file</span><span class="p">,</span> <span class="n">skiprows</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">nrows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span> <span class="c1"># 4th row contains the mission duration</span>
    <span class="n">duration</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">duration</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">4</span><span class="p">])</span>

    <span class="n">state_aux_info</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s2">&quot;state_aux_info&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;epoch_JDUT1&quot;</span><span class="p">,</span> <span class="s2">&quot;step_size&quot;</span><span class="p">,</span> <span class="s2">&quot;duration&quot;</span><span class="p">])</span>
    
    <span class="k">return</span> <span class="n">state_aux_info</span><span class="p">(</span><span class="n">epoch_JDUT1</span><span class="p">,</span> <span class="n">step_size</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span></div>

<div class="viewcode-block" id="dictionary_list_to_object_list"><a class="viewcode-back" href="../../generated/orbitpy.util.dictionary_list_to_object_list.html#orbitpy.util.dictionary_list_to_object_list">[docs]</a><span class="k">def</span> <span class="nf">dictionary_list_to_object_list</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="bp">cls</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Utility function to convert list of dictionaries to list of corresponding objects. </span>
<span class="sd">        The objects must have the function ``from_dict(.)`` associated with it.</span>
<span class="sd">    </span>
<span class="sd">    :param d: List of dictionaries.</span>
<span class="sd">    :paramtype d: list, dict</span>

<span class="sd">    :param cls: Class to which each dictionary is to be converted into.</span>
<span class="sd">    :paramtype cls: cls</span>

<span class="sd">    :return: List of objects.</span>
<span class="sd">    :rtype: list, cls</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">obj_list</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">d</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="n">obj_list</span> <span class="o">=</span> <span class="p">[</span><span class="bp">cls</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">d</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">obj_list</span> <span class="o">=</span> <span class="p">[</span><span class="bp">cls</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">d</span><span class="p">)]</span> 
    <span class="k">return</span> <span class="n">obj_list</span></div>

<div class="viewcode-block" id="object_list_to_dictionary_list"><a class="viewcode-back" href="../../generated/orbitpy.util.object_list_to_dictionary_list.html#orbitpy.util.object_list_to_dictionary_list">[docs]</a><span class="k">def</span> <span class="nf">object_list_to_dictionary_list</span><span class="p">(</span><span class="n">obj_list</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Utility function to convert list of objects to list of dictionaries. </span>
<span class="sd">        The objects must have the function ``to_dict(.)`` associated with it.</span>
<span class="sd">    </span>
<span class="sd">        :param obj_list: List of objects.</span>
<span class="sd">        :paramtype obj_list: list, cls or cls</span>

<span class="sd">        :return: List of dictionaries.</span>
<span class="sd">        :rtype: list, dict</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">dict_list</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">obj_list</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj_list</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="n">dict_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">obj_list</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">dict_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">obj_list</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()]</span> 
    <span class="k">return</span> <span class="n">dict_list</span></div>

<div class="viewcode-block" id="initialize_object_list"><a class="viewcode-back" href="../../generated/orbitpy.util.initialize_object_list.html#orbitpy.util.initialize_object_list">[docs]</a><span class="k">def</span> <span class="nf">initialize_object_list</span><span class="p">(</span><span class="n">inp</span><span class="p">,</span> <span class="bp">cls</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Utility function to return list of objects from a valid input (a single object or list of objects where each object is of the class ``cls``).</span>
<span class="sd">        If invalid input ``None`` is returned. </span>
<span class="sd">    </span>
<span class="sd">    :param inp: Input.</span>
<span class="sd">    :paramtype inp: (list, cls) or cls</span>

<span class="sd">    :param cls: Class of each element of the list.</span>
<span class="sd">    :paramtype cls: cls</span>

<span class="sd">    :return: List of objects if valid input else None.</span>
<span class="sd">    :rtype: list, cls or None</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">obj_list</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">inp</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">inp</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="bp">cls</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">inp</span><span class="p">):</span>
            <span class="n">obj_list</span> <span class="o">=</span> <span class="n">inp</span>
    <span class="k">if</span> <span class="n">inp</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">inp</span><span class="p">,</span> <span class="bp">cls</span><span class="p">):</span> <span class="c1"># make into list if not list</span>
        <span class="n">obj_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">inp</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">obj_list</span></div>

<div class="viewcode-block" id="add_to_list"><a class="viewcode-back" href="../../generated/orbitpy.util.add_to_list.html#orbitpy.util.add_to_list">[docs]</a><span class="k">def</span> <span class="nf">add_to_list</span><span class="p">(</span><span class="n">existing_list</span><span class="p">,</span> <span class="n">inp_list</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Add input list to an existing list. The existing &quot;list&quot; and input &quot;list&quot; are checked to see if they are list instances, </span>
<span class="sd">        and if not configured to be a lists. The existing list is extended with the input list.</span>

<span class="sd">        :param existing_list: Existing list, which needs to be extended. Can be made of heterogenous objects.</span>
<span class="sd">        :paramtype existing_list: list</span>

<span class="sd">        :param inp_list: Input list. Can be made of heterogenous objects.</span>
<span class="sd">        :paramtype inp_list: list</span>

<span class="sd">        :return: Extended list.</span>
<span class="sd">        :rtype: list</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">inp_list</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">inp_list</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="n">inp_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">inp_list</span><span class="p">]</span> <span class="c1"># make to list</span>

    <span class="k">if</span> <span class="n">existing_list</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">existing_list</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="n">existing_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">existing_list</span><span class="p">]</span> <span class="c1"># make to list</span>
        <span class="n">existing_list</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">inp_list</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">existing_list</span> <span class="o">=</span> <span class="n">inp_list</span>
    
    <span class="k">return</span> <span class="n">existing_list</span></div>

<span class="k">def</span> <span class="nf">calculate_inclination_circular_SSO</span><span class="p">(</span><span class="n">altitude_km</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Calculate the inclination of a circular (ecc=0) orbit with the input altitude.</span>

<span class="sd">        :param altitude_km: Altitude of the orbit in kilometers.</span>
<span class="sd">        :paramtype altitude_km: float</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># circular SSO with fixed altitude specified, </span>
    <span class="n">e</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">Re</span> <span class="o">=</span> <span class="n">Constants</span><span class="o">.</span><span class="n">radiusOfEarthInKM</span> 
    <span class="n">sma</span> <span class="o">=</span> <span class="n">Re</span> <span class="o">+</span> <span class="n">altitude_km</span>
    <span class="n">J2</span>  <span class="o">=</span> <span class="mf">0.0010826269</span>      <span class="c1"># Second zonal gravity harmonic of the Earth</span>
    <span class="n">we</span> <span class="o">=</span> <span class="mf">1.99106e-7</span>    <span class="c1"># Mean motion of the Earth in its orbit around the Sun [rad/s]</span>
    <span class="n">mu</span>    <span class="o">=</span> <span class="mf">398600.440</span>      <span class="c1"># Earth’s gravitational parameter [km^3/s^2]</span>
    <span class="n">n</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">mu</span><span class="o">/</span><span class="p">(</span><span class="n">sma</span><span class="o">**</span><span class="mi">3</span><span class="p">))</span> <span class="c1"># Mean motion [s-1]</span>
    <span class="n">h</span> <span class="o">=</span> <span class="n">sma</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">e</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>    <span class="c1"># note that here h is *NOT* the altitude!!</span>

    <span class="n">tol</span> <span class="o">=</span> <span class="mf">1e-10</span>         <span class="c1"># Error tolerance</span>
    <span class="c1"># Initial guess for the orbital inclination</span>
    <span class="n">i0</span> <span class="o">=</span> <span class="mi">180</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">arccos</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="o">*</span><span class="p">(</span><span class="n">h</span><span class="o">/</span><span class="n">Re</span> <span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="o">*</span><span class="n">we</span><span class="o">/</span><span class="p">(</span><span class="n">n</span><span class="o">*</span><span class="n">J2</span><span class="p">))</span>
    <span class="n">err</span> <span class="o">=</span> <span class="mf">1e1</span>
    <span class="k">while</span><span class="p">(</span><span class="n">err</span> <span class="o">&gt;=</span> <span class="n">tol</span><span class="p">):</span>
        <span class="c1"># J2 perturbed mean motion</span>
        <span class="n">_np</span>  <span class="o">=</span> <span class="n">n</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="p">(</span><span class="mf">1.5</span><span class="o">*</span><span class="n">J2</span><span class="o">*</span><span class="p">(</span><span class="n">Re</span><span class="o">/</span><span class="n">h</span><span class="p">))</span><span class="o">**</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">e</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="p">(</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">deg2rad</span><span class="p">(</span><span class="n">i0</span><span class="p">))</span><span class="o">**</span><span class="mi">2</span><span class="p">)))</span>
        <span class="n">i</span> <span class="o">=</span> <span class="mi">180</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arccos</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="o">*</span><span class="p">((</span><span class="n">h</span><span class="o">/</span><span class="n">Re</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="n">we</span><span class="o">/</span><span class="p">(</span><span class="n">_np</span><span class="o">*</span><span class="n">J2</span><span class="p">)))</span>
        <span class="n">err</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">i</span> <span class="o">-</span> <span class="n">i0</span><span class="p">)</span>
        <span class="n">i0</span> <span class="o">=</span> <span class="n">i</span>
    <span class="k">return</span> <span class="n">i</span>

<div class="viewcode-block" id="OutputInfoUtility"><a class="viewcode-back" href="../../generated/orbitpy.util.OutputInfoUtility.html#orbitpy.util.OutputInfoUtility">[docs]</a><span class="k">class</span> <span class="nc">OutputInfoUtility</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Class with utility classes, functions to handle the output-info objects, i.e. objects of the classes:</span>
<span class="sd">        </span>
<span class="sd">        * :class:`orbitpy.propagator.PropagatorOutputInfo` </span>
<span class="sd">        * :class:`orbitpy.contactfinder.ContactFinderOutputInfo` </span>
<span class="sd">        * :class:`orbitpy.coveragecalculator.CoverageOutputInfo` </span>
<span class="sd">        * :class:`orbitpy.datametricscalculator.DataMetricsOutputInfo` </span>
<span class="sd">        * :class:`orbitpy.eclipsefinder.EclipseFinderOutputInfo` </span>
<span class="sd">        * :class:`orbitpy.grid.GridOutputInfo`</span>
<span class="sd">    </span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">class</span> <span class="nc">OutputInfoType</span><span class="p">(</span><span class="n">EnumEntity</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Types of output-info objects.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">PropagatorOutputInfo</span> <span class="o">=</span> <span class="s2">&quot;PROPAGATOR OUTPUT INFO&quot;</span>
        <span class="n">ContactFinderOutputInfo</span> <span class="o">=</span> <span class="s2">&quot;CONTACT FINDER OUTPUT INFO&quot;</span>
        <span class="n">CoverageOutputInfo</span> <span class="o">=</span> <span class="s2">&quot;COVERAGE OUTPUT INFO&quot;</span>
        <span class="n">DataMetricsOutputInfo</span> <span class="o">=</span> <span class="s2">&quot;DATAMETRICS OUTPUT INFO&quot;</span>
        <span class="n">EclipseFinderOutputInfo</span> <span class="o">=</span> <span class="s2">&quot;ECLIPSE FINDER OUTPUT INFO&quot;</span>
        <span class="n">GridOutputInfo</span> <span class="o">=</span> <span class="s2">&quot;GRID OUTPUT INFO&quot;</span>

<div class="viewcode-block" id="OutputInfoUtility.locate_output_info_object_in_list"><a class="viewcode-back" href="../../generated/orbitpy.util.OutputInfoUtility.html#orbitpy.util.OutputInfoUtility.locate_output_info_object_in_list">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">locate_output_info_object_in_list</span><span class="p">(</span><span class="n">out_info_list</span><span class="p">,</span> <span class="n">out_info_type</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Locate an output-info object from list of output-info objects with parameters</span>
<span class="sd">            as that given by the input arguments.</span>

<span class="sd">            :param out_info_list: List of output-info objects.</span>
<span class="sd">            :paramtype: list, output-info objects</span>
<span class="sd">            </span>
<span class="sd">            :param out_info_type: The *type* of the output-info object.</span>
<span class="sd">            :paramtype out_info_type: :class:`orbitpy.util.OutputInfoUtility.OutputInfoType`</span>

<span class="sd">            :param \**kwargs: Keyword arguments. Depending on the output-info type of interest, there are different keywords expected.</span>
<span class="sd">                            </span>
<span class="sd">                                .. csv-table::</span>
<span class="sd">                                    :header: Output-info type, Keyword(s), Description</span>
<span class="sd">                                    :widths: 10,10,10</span>

<span class="sd">                                    ``PropagatorOutputInfo``, ``spacecraft_id``, Spacecraft-identifier of the propagated spacecraft.</span>
<span class="sd">                                    ``CoverageOutputInfo``, &quot;``inp_cov_type``, ``spacecraft_id``, ``inp_instru_id``, ``inp_mode_id``, ``inp_grid_id``&quot;, &quot;Coverage-type and identifiers of spacecraft, instrument, mode, grid.&quot;</span>

<span class="sd">            </span>
<span class="sd">            :return: The output-info object with parameters matched to the input arguments.</span>
<span class="sd">            :rtype: output-info object</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">out_info_list</span><span class="p">:</span> <span class="c1"># if None or []</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">out_info_list</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="n">out_info_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">out_info_list</span><span class="p">]</span> <span class="c1"># make into list</span>
        
        <span class="n">result</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="c1"># If the object to-be-found is of type &#39;PROPAGATOR OUTPUT INFO&#39;        </span>
        <span class="k">if</span> <span class="n">out_info_type</span> <span class="o">==</span> <span class="n">OutputInfoUtility</span><span class="o">.</span><span class="n">OutputInfoType</span><span class="o">.</span><span class="n">PropagatorOutputInfo</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
            <span class="n">inp_spc_id</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;spacecraft_id&#39;</span><span class="p">)</span> <span class="c1"># spacecraft-id of interest</span>
            <span class="k">for</span> <span class="n">oi</span> <span class="ow">in</span> <span class="n">out_info_list</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">oi</span><span class="o">.</span><span class="n">_type</span> <span class="o">==</span> <span class="n">OutputInfoUtility</span><span class="o">.</span><span class="n">OutputInfoType</span><span class="o">.</span><span class="n">PropagatorOutputInfo</span><span class="o">.</span><span class="n">value</span><span class="p">:</span> <span class="c1"># check object type</span>
                    <span class="k">if</span> <span class="n">oi</span><span class="o">.</span><span class="n">spacecraftId</span> <span class="o">==</span> <span class="n">inp_spc_id</span><span class="p">:</span> <span class="c1"># check for matching spacecraft-id</span>
                        <span class="n">result</span> <span class="o">=</span> <span class="n">oi</span>
                        <span class="k">break</span>
        
        <span class="c1"># If the object to-be-found is of type &#39;COVERAGE OUTPUT INFO&#39;        </span>
        <span class="k">if</span> <span class="n">out_info_type</span> <span class="o">==</span> <span class="n">OutputInfoUtility</span><span class="o">.</span><span class="n">OutputInfoType</span><span class="o">.</span><span class="n">CoverageOutputInfo</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
            <span class="n">inp_cov_type</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;coverage_type&#39;</span><span class="p">)</span> <span class="c1"># coverage-type of interest</span>
            <span class="n">inp_spc_id</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;spacecraft_id&#39;</span><span class="p">)</span> <span class="c1"># spacecraft-id of interest</span>
            <span class="n">inp_instru_id</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;instru_id&#39;</span><span class="p">)</span> <span class="c1"># instrument-id of interest</span>
            <span class="n">inp_mode_id</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;mode_id&#39;</span><span class="p">)</span> <span class="c1"># instrument mode-id of interest</span>
            <span class="n">inp_grid_id</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;grid_id&#39;</span><span class="p">)</span> <span class="c1"># grid-id of interest</span>
            
            <span class="k">for</span> <span class="n">oi</span> <span class="ow">in</span> <span class="n">out_info_list</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">oi</span><span class="o">.</span><span class="n">_type</span> <span class="o">==</span> <span class="n">OutputInfoUtility</span><span class="o">.</span><span class="n">OutputInfoType</span><span class="o">.</span><span class="n">CoverageOutputInfo</span><span class="o">.</span><span class="n">value</span><span class="p">:</span> <span class="c1"># check object type</span>
                    <span class="k">if</span> <span class="p">((</span><span class="n">oi</span><span class="o">.</span><span class="n">coverageType</span><span class="o">==</span><span class="n">inp_cov_type</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">oi</span><span class="o">.</span><span class="n">spacecraftId</span><span class="o">==</span><span class="n">inp_spc_id</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">oi</span><span class="o">.</span><span class="n">instruId</span><span class="o">==</span><span class="n">inp_instru_id</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">oi</span><span class="o">.</span><span class="n">modeId</span><span class="o">==</span><span class="n">inp_mode_id</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">oi</span><span class="o">.</span><span class="n">gridId</span><span class="o">==</span><span class="n">inp_grid_id</span><span class="p">)):</span>
                        <span class="n">result</span> <span class="o">=</span> <span class="n">oi</span>
                        <span class="k">break</span>

        <span class="k">return</span> <span class="n">result</span></div>

<div class="viewcode-block" id="OutputInfoUtility.delete_output_info_object_in_list"><a class="viewcode-back" href="../../generated/orbitpy.util.OutputInfoUtility.html#orbitpy.util.OutputInfoUtility.delete_output_info_object_in_list">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">delete_output_info_object_in_list</span><span class="p">(</span><span class="n">out_info_list</span><span class="p">,</span> <span class="n">other_out_info_object</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Remove an output-info object from list of output-info objects which has &quot;loose&quot;-equality with the other</span>
<span class="sd">            output-info object. Loose equality requires only some of the instance variables of the two objects to match. </span>
<span class="sd">            Please see the ``check_loose_equality`` function of the respective output-info class to know which instance variables care compared.</span>

<span class="sd">            :param out_info_list: List of output-info objects.</span>
<span class="sd">            :paramtype: list, output-info objects</span>

<span class="sd">            :param other_out_info_object: Output-info object(s) with which comparison for loose-equality shall be made. Can be a list.</span>
<span class="sd">            :paramtype other_out_info_object: output-info object or list, output-info object</span>
<span class="sd">            </span>
<span class="sd">            :return: (Potentially) reduced list of output-info objects with an deleted object. </span>
<span class="sd">            :rtype: list, output-info objects</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">out_info_list</span><span class="p">:</span> <span class="c1"># if None or []</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">out_info_list</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="n">out_info_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">out_info_list</span><span class="p">]</span> <span class="c1"># make into list</span>

        <span class="k">if</span> <span class="n">other_out_info_object</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">out_info_list</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other_out_info_object</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="n">other_out_info_object</span> <span class="o">=</span> <span class="p">[</span><span class="n">other_out_info_object</span><span class="p">]</span>  <span class="c1"># make into list</span>

        <span class="k">for</span> <span class="n">ooi</span> <span class="ow">in</span> <span class="n">other_out_info_object</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">indx</span><span class="p">,</span> <span class="n">oi</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">out_info_list</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">oi</span><span class="o">.</span><span class="n">check_loose_equality</span><span class="p">(</span><span class="n">ooi</span><span class="p">):</span>
                    <span class="k">del</span> <span class="n">out_info_list</span><span class="p">[</span><span class="n">indx</span><span class="p">]</span> <span class="c1"># delete the corresponding output-info object</span>
        
        <span class="k">return</span> <span class="n">out_info_list</span></div></div>
</pre></div>

           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, BAERI.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>